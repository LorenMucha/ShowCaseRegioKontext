"use strict";(self.webpackChunkopenlayers_angular=self.webpackChunkopenlayers_angular||[]).push([[179],{79:()=>{function te(t){return"function"==typeof t}function Eo(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Js=Eo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Do(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Et{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof Js?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Kg(o)}catch(s){e=e??[],s instanceof Js?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Js(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Kg(e);else{if(e instanceof Et){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Do(n,e)}remove(e){const{_finalizers:n}=this;n&&Do(n,e),e instanceof Et&&e._removeParent(this)}}Et.EMPTY=(()=>{const t=new Et;return t.closed=!0,t})();const qg=Et.EMPTY;function Yg(t){return t instanceof Et||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function Kg(t){te(t)?t():t.unsubscribe()}const gr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ea={setTimeout(t,e,...n){const{delegate:r}=ea;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=ea;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Xg(t){ea.setTimeout(()=>{const{onUnhandledError:e}=gr;if(!e)throw t;e(t)})}function Qg(){}const YI=zu("C",void 0,void 0);function zu(t,e,n){return{kind:t,value:e,error:n}}let pr=null;function ta(t){if(gr.useDeprecatedSynchronousErrorHandling){const e=!pr;if(e&&(pr={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=pr;if(pr=null,n)throw r}}else t()}class Gu extends Et{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Yg(e)&&e.add(this)):this.destination=nS}static create(e,n,r){return new Co(e,n,r)}next(e){this.isStopped?Zu(function XI(t){return zu("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Zu(function KI(t){return zu("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Zu(YI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const JI=Function.prototype.bind;function Wu(t,e){return JI.call(t,e)}class eS{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){na(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){na(r)}else na(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){na(n)}}}class Co extends Gu{constructor(e,n,r){let i;if(super(),te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&gr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Wu(e.next,o),error:e.error&&Wu(e.error,o),complete:e.complete&&Wu(e.complete,o)}):i=e}this.destination=new eS(i)}}function na(t){gr.useDeprecatedSynchronousErrorHandling?function QI(t){gr.useDeprecatedSynchronousErrorHandling&&pr&&(pr.errorThrown=!0,pr.error=t)}(t):Xg(t)}function Zu(t,e){const{onStoppedNotification:n}=gr;n&&ea.setTimeout(()=>n(t,e))}const nS={closed:!0,next:Qg,error:function tS(t){throw t},complete:Qg},qu="function"==typeof Symbol&&Symbol.observable||"@@observable";function Bn(t){return t}function Jg(t){return 0===t.length?Bn:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function oS(t){return t&&t instanceof Gu||function iS(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}(t)&&Yg(t)}(n)?n:new Co(n,r,i);return ta(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=ep(r))((i,o)=>{const s=new Co({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[qu](){return this}pipe(...n){return Jg(n)(this)}toPromise(n){return new(n=ep(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function ep(t){var e;return null!==(e=t??gr.Promise)&&void 0!==e?e:Promise}const sS=Eo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let pn=(()=>{class t extends Ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new tp(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new sS}next(n){ta(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ta(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ta(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?qg:(this.currentObservers=null,o.push(n),new Et(()=>{this.currentObservers=null,Do(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Ie;return n.source=this,n}}return t.create=(e,n)=>new tp(e,n),t})();class tp extends pn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:qg}}class Dt extends pn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function np(t){return te(t?.lift)}function xe(t){return e=>{if(np(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ne(t,e,n,r,i){return new aS(t,e,n,r,i)}class aS extends Gu{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function se(t,e){return xe((n,r)=>{let i=0;n.subscribe(Ne(r,o=>{r.next(t.call(e,o,i++))}))})}function $n(t){return this instanceof $n?(this.v=t,this):new $n(t)}function sp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Qu(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ap=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function lp(t){return te(t?.then)}function up(t){return te(t[qu])}function cp(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function dp(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const hp=function RS(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function fp(t){return te(t?.[hp])}function gp(t){return function op(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(g,p){o.push([h,f,g,p])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof $n?Promise.resolve(h.value.v).then(u,c):d(o[0][2],h)}(r[h](f))}catch(g){d(o[0][3],g)}}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield $n(n.read());if(i)return yield $n(void 0);yield yield $n(r)}}finally{n.releaseLock()}})}function pp(t){return te(t?.getReader)}function Pt(t){if(t instanceof Ie)return t;if(null!=t){if(up(t))return function AS(t){return new Ie(e=>{const n=t[qu]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(ap(t))return function xS(t){return new Ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(lp(t))return function NS(t){return new Ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Xg)})}(t);if(cp(t))return mp(t);if(fp(t))return function PS(t){return new Ie(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(pp(t))return function OS(t){return mp(gp(t))}(t)}throw dp(t)}function mp(t){return new Ie(e=>{(function LS(t,e){var n,r,i,o;return function rp(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=sp(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function mn(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Le(t,e,n=1/0){return te(e)?Le((r,i)=>se((o,s)=>e(r,o,i,s))(Pt(t(r,i))),n):("number"==typeof e&&(n=e),xe((r,i)=>function FS(t,e,n,r,i,o,s,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&e.complete()},f=p=>u<r?g(p):l.push(p),g=p=>{o&&e.next(p),u++;let y=!1;Pt(n(p,c++)).subscribe(Ne(e,v=>{i?.(v),o?f(v):e.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;l.length&&u<r;){const v=l.shift();s?mn(e,s,()=>g(v)):g(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(Ne(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Zr(t=1/0){return Le(Bn,t)}const qt=new Ie(t=>t.complete());function Ju(t){return t[t.length-1]}function wo(t){return function jS(t){return t&&te(t.schedule)}(Ju(t))?t.pop():void 0}function yp(t,e=0){return xe((n,r)=>{n.subscribe(Ne(r,i=>mn(r,t,()=>r.next(i),e),()=>mn(r,t,()=>r.complete(),e),i=>mn(r,t,()=>r.error(i),e)))})}function vp(t,e=0){return xe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function _p(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ie(n=>{mn(n,e,()=>{const r=t[Symbol.asyncIterator]();mn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Fe(t,e){return e?function WS(t,e){if(null!=t){if(up(t))return function HS(t,e){return Pt(t).pipe(vp(e),yp(e))}(t,e);if(ap(t))return function $S(t,e){return new Ie(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(lp(t))return function BS(t,e){return Pt(t).pipe(vp(e),yp(e))}(t,e);if(cp(t))return _p(t,e);if(fp(t))return function zS(t,e){return new Ie(n=>{let r;return mn(n,e,()=>{r=t[hp](),mn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}(t,e);if(pp(t))return function GS(t,e){return _p(gp(t),e)}(t,e)}throw dp(t)}(t,e):Pt(t)}function N(...t){return Fe(t,wo(t))}function Ep(t={}){const{connector:e=(()=>new pn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,u=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,c=d=!1},g=()=>{const p=s;f(),p?.unsubscribe()};return xe((p,y)=>{u++,!d&&!c&&h();const v=l=l??e();y.add(()=>{u--,0===u&&!d&&!c&&(a=ec(g,i))}),v.subscribe(y),!s&&u>0&&(s=new Co({next:m=>v.next(m),error:m=>{d=!0,h(),a=ec(f,n,m),v.error(m)},complete:()=>{c=!0,h(),a=ec(f,r),v.complete()}}),Pt(p).subscribe(s))})(o)}}function ec(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Co({next:()=>{r.unsubscribe(),t()}});return Pt(e(...n)).subscribe(r)}function Yt(t,e){return xe((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Ne(r,l=>{i?.unsubscribe();let u=0;const c=o++;Pt(t(l,c)).subscribe(i=Ne(r,d=>r.next(e?e(l,d,c,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function YS(t,e){return t===e}function X(t){for(let e in t)if(t[e]===X)return e;throw Error("Could not find renamed property on target object.")}function Se(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Se).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function tc(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const KS=X({__forward_ref__:X});function nc(t){return t.__forward_ref__=nc,t.toString=function(){return Se(this())},t}function P(t){return rc(t)?t():t}function rc(t){return"function"==typeof t&&t.hasOwnProperty(KS)&&t.__forward_ref__===nc}function ic(t){return t&&!!t.\u0275providers}class w extends Error{constructor(e,n){super(function ia(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function K(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():function O(t){return"string"==typeof t?t:null==t?"":String(t)}(t)}function oa(t,e){throw new w(-201,!1)}function Ct(t,e){null==t&&function W(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function A(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function zn(t){return{providers:t.providers||[],imports:t.imports||[]}}function sa(t){return Cp(t,aa)||Cp(t,Ip)}function Cp(t,e){return t.hasOwnProperty(e)?t[e]:null}function wp(t){return t&&(t.hasOwnProperty(oc)||t.hasOwnProperty(iT))?t[oc]:null}const aa=X({\u0275prov:X}),oc=X({\u0275inj:X}),Ip=X({ngInjectableDef:X}),iT=X({ngInjectorDef:X});var U=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(U||{});let sc;function nt(t){const e=sc;return sc=t,e}function Tp(t,e,n){const r=sa(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&U.Optional?null:void 0!==e?e:void oa(Se(t))}const ie=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Io={},ac="__NG_DI_FLAG__",la="ngTempTokenPath",sT=/\n/gm,Mp="__source";let qr;function Gn(t){const e=qr;return qr=t,e}function uT(t,e=U.Default){if(void 0===qr)throw new w(-203,!1);return null===qr?Tp(t,void 0,e):qr.get(t,e&U.Optional?null:void 0,e)}function b(t,e=U.Default){return(function Sp(){return sc}()||uT)(P(t),e)}function S(t,e=U.Default){return b(t,ua(e))}function ua(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function lc(t){const e=[];for(let n=0;n<t.length;n++){const r=P(t[n]);if(Array.isArray(r)){if(0===r.length)throw new w(900,!1);let i,o=U.Default;for(let s=0;s<r.length;s++){const a=r[s],l=cT(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(b(i,o))}else e.push(b(r))}return e}function So(t,e){return t[ac]=e,t.prototype[ac]=e,t}function cT(t){return t[ac]}function yn(t){return{toString:t}.toString()}var ca=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ca||{}),Ot=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ot||{});const Kt={},G=[],da=X({\u0275cmp:X}),uc=X({\u0275dir:X}),cc=X({\u0275pipe:X}),Rp=X({\u0275mod:X}),vn=X({\u0275fac:X}),To=X({__NG_ELEMENT_ID__:X}),Ap=X({__NG_ENV_ID__:X});function xp(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function dc(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];Pp(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Np(t){return 3===t||4===t||6===t}function Pp(t){return 64===t.charCodeAt(0)}function Mo(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Op(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Op(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const Lp="ng-template";function fT(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==xp(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Fp(t){return 4===t.type&&t.value!==Lp}function gT(t,e,n){return e===(4!==t.type||n?t.value:Lp)}function pT(t,e,n){let r=4;const i=t.attrs||[],o=function vT(t){for(let e=0;e<t.length;e++)if(Np(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!gT(t,l,n)||""===l&&1===e.length){if(Lt(r))return!1;s=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!fT(t.attrs,u,n)){if(Lt(r))return!1;s=!0}continue}const d=mT(8&r?"class":l,i,Fp(t),n);if(-1===d){if(Lt(r))return!1;s=!0;continue}if(""!==u){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==xp(f,u,0)||2&r&&u!==h){if(Lt(r))return!1;s=!0}}}}else{if(!s&&!Lt(r)&&!Lt(l))return!1;if(s&&Lt(l))continue;s=!1,r=l|1&r}}return Lt(r)||s}function Lt(t){return 0==(1&t)}function mT(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function _T(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function kp(t,e,n=!1){for(let r=0;r<e.length;r++)if(pT(t,e[r],n))return!0;return!1}function jp(t,e){return t?":not("+e.trim()+")":e}function DT(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Lt(s)&&(e+=jp(o,i),i=""),r=s,o=o||!Lt(r);n++}return""!==i&&(e+=jp(o,i)),e}function hc(t){return yn(()=>{const e=Up(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ca.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ot.Emulated,styles:t.styles||G,_:null,schemas:t.schemas||null,tView:null,id:""};Hp(n);const r=t.dependencies;return n.directiveDefs=ha(r,!1),n.pipeDefs=ha(r,!0),n.id=function RT(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function ST(t){return Z(t)||Ve(t)}function TT(t){return null!==t}function yr(t){return yn(()=>({type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Vp(t,e){if(null==t)return Kt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function We(t){return yn(()=>{const e=Up(t);return Hp(e),e})}function Z(t){return t[da]||null}function Ve(t){return t[uc]||null}function it(t){return t[cc]||null}function ft(t,e){const n=t[Rp]||null;if(!n&&!0===e)throw new Error(`Type ${Se(t)} does not have '\u0275mod' property.`);return n}function Up(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Kt,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vp(t.inputs,e),outputs:Vp(t.outputs)}}function Hp(t){t.features?.forEach(e=>e(t))}function ha(t,e){if(!t)return null;const n=e?it:ST;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(TT)}const Te=0,I=1,F=2,de=3,Ft=4,bo=5,Ue=6,Kr=7,ye=8,Xr=9,vr=10,k=11,Ro=12,Bp=13,Qr=14,ve=15,Ao=16,Jr=17,Xt=18,xo=19,$p=20,Wn=21,_n=22,fa=23,ga=24,H=25,fc=1,zp=2,Qt=7,ei=9,He=11;function gt(t){return Array.isArray(t)&&"object"==typeof t[fc]}function ot(t){return Array.isArray(t)&&!0===t[fc]}function gc(t){return 0!=(4&t.flags)}function _r(t){return t.componentOffset>-1}function kt(t){return!!t.template}function pc(t){return 0!=(512&t[F])}function Er(t,e){return t.hasOwnProperty(vn)?t[vn]:null}let LT=ie.WeakRef??class OT{constructor(e){this.ref=e}deref(){return this.ref}},kT=0,Jt=null,ya=!1;function Pe(t){const e=Jt;return Jt=t,e}class Yp{constructor(){this.id=kT++,this.ref=function FT(t){return new LT(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=ya;ya=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{ya=e}}producerAccessed(){if(ya)throw new Error("");if(null===Jt)return;let e=Jt.producers.get(this.id);void 0===e?(e={consumerNode:Jt.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Jt.trackingVersion},Jt.producers.set(this.id,e),this.consumers.set(Jt.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Jt.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Jt?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let Kp=null;const Qp=()=>{};class HT extends Yp{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=Qp,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=Pe(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Qp,this.watch(this.registerOnCleanup)}finally{Pe(e)}}cleanup(){this.cleanupFn()}}class BT{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Dr(){return Jp}function Jp(t){return t.type.prototype.ngOnChanges&&(t.setInput=zT),$T}function $T(){const t=tm(this),e=t?.current;if(e){const n=t.previous;if(n===Kt)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function zT(t,e,n,r){const i=this.declaredInputs[n],o=tm(t)||function GT(t,e){return t[em]=e}(t,{previous:Kt,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new BT(l&&l.currentValue,e,a===Kt),t[r]=e}Dr.ngInherit=!0;const em="__ngSimpleChanges__";function tm(t){return t[em]||null}const en=function(t,e,n){};function ue(t){for(;Array.isArray(t);)t=t[Te];return t}function st(t,e){return ue(e[t.index])}function pt(t,e){const n=e[t];return gt(n)?n:n[Te]}function Zn(t,e){return null==e?null:t[e]}function om(t){t[Jr]=0}function QT(t){1024&t[F]||(t[F]|=1024,am(t,1))}function sm(t){1024&t[F]&&(t[F]&=-1025,am(t,-1))}function am(t,e){let n=t[de];if(null===n)return;n[bo]+=e;let r=n;for(n=n[de];null!==n&&(1===e&&1===r[bo]||-1===e&&0===r[bo]);)n[bo]+=e,r=n,n=n[de]}const x={lFrame:vm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function cm(){return x.bindingsEnabled}function D(){return x.lFrame.lView}function $(){return x.lFrame.tView}function ke(){let t=dm();for(;null!==t&&64===t.type;)t=t.parent;return t}function dm(){return x.lFrame.currentTNode}function tn(t,e){const n=x.lFrame;n.currentTNode=t,n.isParent=e}function Dc(){return x.lFrame.isParent}function hM(t,e){const n=x.lFrame;n.bindingIndex=n.bindingRootIndex=t,wc(e)}function wc(t){x.lFrame.currentDirectiveIndex=t}function Sc(t){x.lFrame.currentQueryIndex=t}function gM(t){const e=t[I];return 2===e.type?e.declTNode:1===e.type?t[Ue]:null}function mm(t,e,n){if(n&U.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&U.Host||(i=gM(o),null===i||(o=o[Qr],10&i.type))););if(null===i)return!1;e=i,t=o}const r=x.lFrame=ym();return r.currentTNode=e,r.lView=t,!0}function Tc(t){const e=ym(),n=t[I];x.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ym(){const t=x.lFrame,e=null===t?null:t.child;return null===e?vm(t):e}function vm(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function _m(){const t=x.lFrame;return x.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Em=_m;function Mc(){const t=_m();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Cr(t){x.lFrame.selectedIndex=t}let Cm=!0;function Da(){return Cm}function qn(t){Cm=t}function Ca(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=c&&(t.destroyHooks??=[]).push(n,c)}}function wa(t,e,n){wm(t,e,3,n)}function Ia(t,e,n,r){(3&t[F])===n&&wm(t,e,n,r)}function bc(t,e){let n=t[F];(3&n)===e&&(n&=8191,n+=1,t[F]=n)}function wm(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[Jr]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[Jr]+=65536),(a<o||-1==o)&&(CM(t,n,e,l),t[Jr]=(4294901760&t[Jr])+l+2),l++}function Im(t,e){en(4,t,e);const n=Pe(null);try{e.call(t)}finally{Pe(n),en(5,t,e)}}function CM(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[F]>>13<t[Jr]>>16&&(3&t[F])===e&&(t[F]+=8192,Im(a,o)):Im(a,o)}const ii=-1;class Oo{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Sm(t){return t!==ii}function Sa(t){return 32767&t}function Ta(t,e){let n=function TM(t){return t>>16}(t),r=e;for(;n>0;)r=r[Qr],n--;return r}let Ac=!0;function Ma(t){const e=Ac;return Ac=t,e}const Tm=255,Mm=5;let MM=0;const nn={};function ba(t,e){const n=bm(t,e);if(-1!==n)return n;const r=e[I];r.firstCreatePass&&(t.injectorIndex=e.length,xc(r.data,t),xc(e,null),xc(r.blueprint,null));const i=Nc(t,e),o=t.injectorIndex;if(Sm(i)){const s=Sa(i),a=Ta(i,e),l=a[I].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function xc(t,e){t.push(0,0,0,0,0,0,0,0,e)}function bm(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Nc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Fm(i),null===r)return ii;if(n++,i=i[Qr],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ii}function Pc(t,e,n){!function bM(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(To)&&(r=n[To]),null==r&&(r=n[To]=MM++);const i=r&Tm;e.data[t+(i>>Mm)]|=1<<i}(t,e,n)}function Rm(t,e,n){if(n&U.Optional||void 0!==t)return t;oa()}function Am(t,e,n,r){if(n&U.Optional&&void 0===r&&(r=null),!(n&(U.Self|U.Host))){const i=t[Xr],o=nt(void 0);try{return i?i.get(e,r,n&U.Optional):Tp(e,r,n&U.Optional)}finally{nt(o)}}return Rm(r,0,n)}function xm(t,e,n,r=U.Default,i){if(null!==t){if(2048&e[F]&&!(r&U.Self)){const s=function PM(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[F]&&!(512&s[F]);){const a=Nm(o,s,n,r|U.Self,nn);if(a!==nn)return a;let l=o.parent;if(!l){const u=s[$p];if(u){const c=u.get(n,nn,r);if(c!==nn)return c}l=Fm(s),s=s[Qr]}o=l}return i}(t,e,n,r,nn);if(s!==nn)return s}const o=Nm(t,e,n,r,nn);if(o!==nn)return o}return Am(e,n,r,i)}function Nm(t,e,n,r,i){const o=function xM(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(To)?t[To]:void 0;return"number"==typeof e?e>=0?e&Tm:NM:e}(n);if("function"==typeof o){if(!mm(e,t,r))return r&U.Host?Rm(i,0,r):Am(e,n,r,i);try{const s=o(r);if(null!=s||r&U.Optional)return s;oa()}finally{Em()}}else if("number"==typeof o){let s=null,a=bm(t,e),l=ii,u=r&U.Host?e[ve][Ue]:null;for((-1===a||r&U.SkipSelf)&&(l=-1===a?Nc(t,e):e[a+8],l!==ii&&Om(r,!1)?(s=e[I],a=Sa(l),e=Ta(l,e)):a=-1);-1!==a;){const c=e[I];if(Pm(o,a,c.data)){const d=AM(a,e,n,s,r,u);if(d!==nn)return d}l=e[a+8],l!==ii&&Om(r,e[I].data[a+8]===u)&&Pm(o,a,e)?(s=c,a=Sa(l),e=Ta(l,e)):a=-1}}return i}function AM(t,e,n,r,i,o){const s=e[I],a=s.data[t+8],c=function Ra(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,c=o>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const g=s[f];if(f<l&&n===g||f>=l&&g.type===n)return f}if(i){const f=s[l];if(f&&kt(f)&&f.type===n)return l}return null}(a,s,n,null==r?_r(a)&&Ac:r!=s&&0!=(3&a.type),i&U.Host&&o===a);return null!==c?wr(e,s,c,a):nn}function wr(t,e,n,r){let i=t[n];const o=e.data;if(function wM(t){return t instanceof Oo}(i)){const s=i;s.resolving&&function XS(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new w(-200,`Circular dependency in DI detected for ${t}${n}`)}(K(o[n]));const a=Ma(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?nt(s.injectImpl):null;mm(t,r,U.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function DM(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Jp(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==l&&nt(l),Ma(a),s.resolving=!1,Em()}}return i}function Pm(t,e,n){return!!(n[e+(t>>Mm)]&1<<t)}function Om(t,e){return!(t&U.Self||t&U.Host&&e)}class oi{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return xm(this._tNode,this._lView,e,ua(r),n)}}function NM(){return new oi(ke(),D())}function Oc(t){return rc(t)?()=>{const e=Oc(P(t));return e&&e()}:Er(t)}function Fm(t){const e=t[I],n=e.type;return 2===n?e.declTNode:1===n?t[Ue]:null}const ai="__parameters__";function ui(t,e,n){return yn(()=>{const r=function Lc(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,c){const d=l.hasOwnProperty(ai)?l[ai]:Object.defineProperty(l,ai,{value:[]})[ai];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Fo(t,e){t.forEach(n=>Array.isArray(n)?Fo(n,e):e(n))}function jm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function xa(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Pa=So(ui("Optional"),8),Oa=So(ui("SkipSelf"),4);function Va(t){return 128==(128&t.flags)}var Yn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Yn||{});const Hc=new Map;let cb=0;const $c="__ngContext__";function Be(t,e){gt(e)?(t[$c]=e[xo],function hb(t){Hc.set(t[xo],t)}(e)):t[$c]=e}let zc;function Gc(t,e){return zc(t,e)}function Uo(t){const e=t[de];return ot(e)?e[de]:e}function oy(t){return ay(t[Ro])}function sy(t){return ay(t[Ft])}function ay(t){for(;null!==t&&!ot(t);)t=t[Ft];return t}function gi(t,e,n,r,i){if(null!=r){let o,s=!1;ot(r)?o=r:gt(r)&&(s=!0,r=r[Te]);const a=ue(r);0===t&&null!==n?null==i?hy(e,n,a):Ir(e,n,a,i||null,!0):1===t&&null!==n?Ir(e,n,a,i||null,!0):2===t?function Ga(t,e,n){const r=$a(t,e);r&&function xb(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function Ob(t,e,n,r,i){const o=n[Qt];o!==ue(n)&&gi(e,t,r,o,i);for(let a=He;a<n.length;a++){const l=n[a];Bo(l[I],l,t,e,r,o)}}(e,t,o,n,i)}}function Ba(t,e,n){return t.createElement(e,n)}function uy(t,e){const n=t[ei],r=n.indexOf(e);sm(e),n.splice(r,1)}function Zc(t,e){if(t.length<=He)return;const n=He+e,r=t[n];if(r){const i=r[Ao];null!==i&&i!==t&&uy(i,r),e>0&&(t[n-1][Ft]=r[Ft]);const o=xa(t,He+e);!function wb(t,e){Bo(t,e,e[k],2,null,null),e[Te]=null,e[Ue]=null}(r[I],r);const s=o[Xt];null!==s&&s.detachView(o[I]),r[de]=null,r[Ft]=null,r[F]&=-129}return r}function cy(t,e){if(!(256&e[F])){const n=e[k];e[fa]?.destroy(),e[ga]?.destroy(),n.destroyNode&&Bo(t,e,n,3,null,null),function Tb(t){let e=t[Ro];if(!e)return qc(t[I],t);for(;e;){let n=null;if(gt(e))n=e[Ro];else{const r=e[He];r&&(n=r)}if(!n){for(;e&&!e[Ft]&&e!==t;)gt(e)&&qc(e[I],e),e=e[de];null===e&&(e=t),gt(e)&&qc(e[I],e),n=e&&e[Ft]}e=n}}(e)}}function qc(t,e){if(!(256&e[F])){e[F]&=-129,e[F]|=256,function Ab(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Oo)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];en(4,a,l);try{l.call(a)}finally{en(5,a,l)}}else{en(4,i,o);try{o.call(i)}finally{en(5,i,o)}}}}}(t,e),function Rb(t,e){const n=t.cleanup,r=e[Kr];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Kr]=null);const i=e[Wn];if(null!==i){e[Wn]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[I].type&&e[k].destroy();const n=e[Ao];if(null!==n&&ot(e[de])){n!==e[de]&&uy(n,e);const r=e[Xt];null!==r&&r.detachView(t)}!function fb(t){Hc.delete(t[xo])}(e)}}function Yc(t,e,n){return function dy(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Te];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ot.None||o===Ot.Emulated)return null}return st(r,n)}}(t,e.parent,n)}function Ir(t,e,n,r,i){t.insertBefore(e,n,r,i)}function hy(t,e,n){t.appendChild(e,n)}function fy(t,e,n,r,i){null!==r?Ir(t,e,n,r,i):hy(t,e,n)}function $a(t,e){return t.parentNode(e)}let Kc,ed,my=function py(t,e,n){return 40&t.type?st(t,n):null};function za(t,e,n,r){const i=Yc(t,r,e),o=e[k],a=function gy(t,e,n){return my(t,e,n)}(r.parent||e[Ue],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)fy(o,i,n[l],a,!1);else fy(o,i,n,a,!1);void 0!==Kc&&Kc(o,r,e,n,i)}function Ho(t,e){if(null!==e){const n=e.type;if(3&n)return st(e,t);if(4&n)return Xc(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Ho(t,r);{const i=t[e.index];return ot(i)?Xc(-1,i):ue(i)}}if(32&n)return Gc(e,t)()||ue(t[e.index]);{const r=vy(t,e);return null!==r?Array.isArray(r)?r[0]:Ho(Uo(t[ve]),r):Ho(t,e.next)}}return null}function vy(t,e){return null!==e?t[ve][Ue].projection[e.projection]:null}function Xc(t,e){const n=He+t+1;if(n<e.length){const r=e[n],i=r[I].firstChild;if(null!==i)return Ho(r,i)}return e[Qt]}function Qc(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&Be(ue(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)Qc(t,e,n.child,r,i,o,!1),gi(e,t,i,a,o);else if(32&l){const u=Gc(n,r);let c;for(;c=u();)gi(e,t,i,c,o);gi(e,t,i,a,o)}else 16&l?Ey(t,e,r,n,i,o):gi(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Bo(t,e,n,r,i,o){Qc(n,r,t.firstChild,e,i,o,!1)}function Ey(t,e,n,r,i,o){const s=n[ve],l=s[Ue].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)gi(e,t,i,l[u],o);else{let u=l;const c=s[de];Va(r)&&(u.flags|=128),Qc(t,e,u,c,i,o,!0)}}function Dy(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Cy(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&dc(t,e,r),null!==i&&Dy(t,e,i),null!==o&&function Fb(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}class T{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=A({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Zo=new T("ENVIRONMENT_INITIALIZER"),Fy=new T("INJECTOR",-1),ky=new T("INJECTOR_DEF_TYPES");class jy{get(e,n=Io){if(n===Io){const r=new Error(`NullInjectorError: No provider for ${Se(e)}!`);throw r.name="NullInjectorError",r}return n}}function uR(...t){return{\u0275providers:Uy(0,t),\u0275fromNgModule:!0}}function Uy(t,...e){const n=[],r=new Set;let i;return Fo(e,o=>{const s=o;sd(s,n,[],r)&&(i||=[],i.push(s))}),void 0!==i&&Hy(i,n),n}function Hy(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];ad(i,o=>{e.push(o)})}}function sd(t,e,n,r){if(!(t=P(t)))return!1;let i=null,o=wp(t);const s=!o&&Z(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const l=t.ngModule;if(o=wp(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)sd(u,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Fo(o.imports,c=>{sd(c,e,n,r)&&(u||=[],u.push(c))})}finally{}void 0!==u&&Hy(u,e)}if(!a){const u=Er(i)||(()=>new i);e.push({provide:i,useFactory:u,deps:G},{provide:ky,useValue:i,multi:!0},{provide:Zo,useValue:()=>b(i),multi:!0})}const l=o.providers;null==l||a||ad(l,c=>{e.push(c)})}}return i!==t&&void 0!==t.providers}function ad(t,e){for(let n of t)ic(n)&&(n=n.\u0275providers),Array.isArray(n)?ad(n,e):e(n)}const cR=X({provide:String,useValue:X});function ld(t){return null!==t&&"object"==typeof t&&cR in t}function Sr(t){return"function"==typeof t}const ud=new T("Set Injector scope."),Ya={},hR={};let cd;function Ka(){return void 0===cd&&(cd=new jy),cd}class wn{}class dd extends wn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fd(e,s=>this.processProvider(s)),this.records.set(Fy,yi(void 0,this)),i.has("environment")&&this.records.set(wn,yi(void 0,this));const o=this.records.get(ud);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ky.multi,G,U.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Gn(this),r=nt(void 0);try{return e()}finally{Gn(n),nt(r)}}get(e,n=Io,r=U.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ap))return e[Ap](this);r=ua(r);const i=Gn(this),o=nt(void 0);try{if(!(r&U.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function yR(t){return"function"==typeof t||"object"==typeof t&&t instanceof T}(e)&&sa(e);a=l&&this.injectableDefInScope(l)?yi(hd(e),Ya):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&U.Self?Ka():this.parent).get(e,n=r&U.Optional&&n===Io?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[la]=s[la]||[]).unshift(Se(e)),i)throw s;return function dT(t,e,n,r){const i=t[la];throw e[Mp]&&i.unshift(e[Mp]),t.message=function hT(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Se(e);if(Array.isArray(e))i=e.map(Se).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Se(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(sT,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[la]=null,t}(s,e,"R3InjectorError",this.source)}throw s}finally{nt(o),Gn(i)}}resolveInjectorInitializers(){const e=Gn(this),n=nt(void 0);try{const r=this.get(Zo.multi,G,U.Self);for(const i of r)i()}finally{Gn(e),nt(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Se(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new w(205,!1)}processProvider(e){let n=Sr(e=P(e))?e:P(e&&e.provide);const r=function gR(t){return ld(t)?yi(void 0,t.useValue):yi(function zy(t,e,n){let r;if(Sr(t)){const i=P(t);return Er(i)||hd(i)}if(ld(t))r=()=>P(t.useValue);else if(function $y(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...lc(t.deps||[]));else if(function By(t){return!(!t||!t.useExisting)}(t))r=()=>b(P(t.useExisting));else{const i=P(t&&(t.useClass||t.provide));if(!function pR(t){return!!t.deps}(t))return Er(i)||hd(i);r=()=>new i(...lc(t.deps))}return r}(t),Ya)}(e);if(Sr(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=yi(void 0,Ya,!0),i.factory=()=>lc(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Ya&&(n.value=hR,n.value=n.factory()),"object"==typeof n.value&&n.value&&function mR(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=P(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function hd(t){const e=sa(t),n=null!==e?e.factory:Er(t);if(null!==n)return n;if(t instanceof T)throw new w(204,!1);if(t instanceof Function)return function fR(t){const e=t.length;if(e>0)throw function ko(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new w(204,!1);const n=function rT(t){return t&&(t[aa]||t[Ip])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new w(204,!1)}function yi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function fd(t,e){for(const n of t)Array.isArray(n)?fd(n,e):n&&ic(n)?fd(n.\u0275providers,e):e(n)}const Xa=new T("AppId",{providedIn:"root",factory:()=>vR}),vR="ng",Gy=new T("Platform Initializer"),vi=new T("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wy=new T("CSP nonce",{providedIn:"root",factory:()=>function $o(){if(void 0!==ed)return ed;if(typeof document<"u")return document;throw new w(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let qy=(t,e)=>null;function Yy(t,e){return qy(t,e)}class MR{}class Qy{}class RR{resolveComponentFactory(e){throw function bR(t){const e=Error(`No component factory found for ${Se(t)}.`);return e.ngComponent=t,e}(e)}}let nl=(()=>{class t{}return t.NULL=new RR,t})();function AR(){return Ei(ke(),D())}function Ei(t,e){return new Xn(st(t,e))}let Xn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=AR,t})();class ev{}let PR=(()=>{class t{}return t.\u0275prov=A({token:t,providedIn:"root",factory:()=>null}),t})();class il{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const OR=new il("16.1.6"),Id={};function Ko(t){for(;t;){t[F]|=64;const e=Uo(t);if(pc(t)&&!e)return t;t=e}return null}function Sd(t){return t.ngOriginalError}class Tr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Sd(e);for(;n&&Sd(n);)n=Sd(n);return n||null}}const rv=new T("",{providedIn:"root",factory:()=>!1});function In(t){return t instanceof Function?t():t}class lv extends Yp{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){Ko(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=Pe(this);this.trackingVersion++;try{e(n,r)}finally{Pe(i)}}destroy(){this.trackingVersion++}}let sl=null;function uv(){return sl??=new lv,sl}function cv(t,e){return t[e]??uv()}function dv(t,e){const n=uv();n.hasReadASignal&&(t[e]=sl,n.lView=t,sl=new lv)}const j={};function mv(t,e=null,n=null,r){const i=yv(t,e,n,r);return i.resolveInjectorInitializers(),i}function yv(t,e=null,n=null,r,i=new Set){const o=[n||G,uR(t)];return r=r||("object"==typeof t?void 0:Se(t)),new dd(o,e||Ka(),r||null,i)}let Sn=(()=>{class t{static create(n,r){if(Array.isArray(n))return mv({name:""},r,n,"");{const i=n.name??"";return mv({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Io,t.NULL=new jy,t.\u0275prov=A({token:t,providedIn:"any",factory:()=>b(Fy)}),t.__NG_ELEMENT_ID__=-1,t})();function R(t,e=U.Default){const n=D();return null===n?b(t,e):xm(ke(),n,P(t),e)}function al(t,e,n,r,i,o,s,a,l,u,c){const d=e.blueprint.slice();return d[Te]=i,d[F]=140|r,(null!==u||t&&2048&t[F])&&(d[F]|=2048),om(d),d[de]=d[Qr]=t,d[ye]=n,d[vr]=s||t&&t[vr],d[k]=a||t&&t[k],d[Xr]=l||t&&t[Xr]||null,d[Ue]=o,d[xo]=function db(){return cb++}(),d[_n]=c,d[$p]=u,d[ve]=2==e.type?t[ve]:d,d}function Ci(t,e,n,r,i){let o=t.data[e];if(null===o)o=function Td(t,e,n,r,i){const o=dm(),s=Dc(),l=t.data[e]=function nA(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function ni(){return null!==x.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(t,e,n,r,i),function dM(){return x.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Po(){const t=x.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return tn(o,!0),o}function Xo(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _v(t,e,n,r,i){const o=cv(e,fa),s=function qe(){return x.lFrame.selectedIndex}(),a=2&r;try{if(Cr(-1),a&&e.length>H&&function hv(t,e,n,r){if(!r)if(3==(3&e[F])){const o=t.preOrderCheckHooks;null!==o&&wa(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Ia(e,o,0,n)}Cr(n)}(t,e,H,!1),en(a?2:0,i),a)o.runInContext(n,r,i);else{const u=Pe(null);try{n(r,i)}finally{Pe(u)}}}finally{a&&null===e[fa]&&dv(e,fa),Cr(s),en(a?3:1,i)}}function Md(t,e,n){if(gc(e)){const r=Pe(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Pe(r)}}}function Ev(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ad(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ad(t,e,n,r,i,o,s,a,l,u,c){const d=H+r,h=d+i,f=function KR(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:j);return n}(d,h),g="function"==typeof u?u():u;return f[I]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:c}}let Dv=t=>null;function Cv(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?wv(n,e,i,o):r.hasOwnProperty(i)&&wv(n,e,r[i],o)}return n}function wv(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Iv(t,e,n,r,i,o){for(let u=0;u<r.length;u++)Pc(ba(n,e),t,r[u].type);!function gA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const c=r[u];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,l=Xo(t,e,r.length,null);for(let u=0;u<r.length;u++){const c=r[u];n.mergedAttrs=Mo(n.mergedAttrs,c.hostAttrs),pA(t,n,e,l,c),fA(l,c,i),null!==c.contentQueries&&(n.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=64);const d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function rA(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let l=null,u=null;for(let c=e.directiveStart;c<i;c++){const d=o[c],h=n?n.get(d):null,g=h?h.outputs:null;l=Cv(d.inputs,c,l,h?h.inputs:null),u=Cv(d.outputs,c,u,g);const p=null===l||null===s||Fp(e)?null:vA(l,c,s);a.push(p)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(t,n,o)}function Sv(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function fM(){return x.lFrame.currentDirectiveIndex}();try{Cr(o);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];wc(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&cA(l,u)}}finally{Cr(-1),wc(s)}}function cA(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Nd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function fA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;kt(e)&&(n[""]=t)}}function pA(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Er(i.type)),s=new Oo(o,kt(i),R);t.blueprint[r]=s,n[r]=s,function aA(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function lA(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,Xo(t,n,i.hostVars,j),i)}function yA(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)Tv(r,n,s[a++],s[a++],s[a++])}function Tv(t,e,n,r,i){const o=Pe(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Pe(o)}}function vA(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function bv(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];Sc(n[r]),s.contentQueries(2,e[o],o)}}}function ll(t,e){return t[Ro]?t[Bp][Ft]=e:t[Ro]=e,t[Bp]=e,e}function Od(t,e,n){Sc(0);const r=Pe(null);try{e(t,n)}finally{Pe(r)}}function Ld(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];Tv(t.data[s],e[s],r,a,i)}}function _A(t,e){const n=pt(e,t),r=n[I];!function EA(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Te];null!==i&&null===n[_n]&&(n[_n]=Yy(i,n[Xr])),Fd(r,n,n[ye])}function Fd(t,e,n){Tc(e);try{const r=t.viewQuery;null!==r&&Od(1,r,n);const i=t.template;null!==i&&_v(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&bv(t,e),t.staticViewQueries&&Od(2,t.viewQuery,n);const o=t.components;null!==o&&function DA(t,e){for(let n=0;n<e.length;n++)_A(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[F]&=-5,Mc()}}let Pv=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=new HT(n,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=A({token:t,providedIn:"root",factory:()=>new t}),t})();function ul(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=tc(i,a):2==o&&(r=tc(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Qo(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(ue(o)),ot(o)){for(let a=He;a<o.length;a++){const l=o[a],u=l[I].firstChild;null!==u&&Qo(l[I],l,u,r)}o[Qt]!==o[Te]&&r.push(o[Qt])}const s=n.type;if(8&s)Qo(t,e,n.child,r);else if(32&s){const a=Gc(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=vy(e,n);if(Array.isArray(a))r.push(...a);else{const l=Uo(e[ve]);Qo(l[I],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function cl(t,e,n,r=!0){const i=e[vr].rendererFactory;i.begin&&i.begin();try{Ov(t,e,t.template,n)}catch(s){throw r&&function Nv(t,e){const n=t[Xr],r=n?n.get(Tr,null):null;r&&r.handleError(e)}(e,s),s}finally{i.end&&i.end(),e[vr].effectManager?.flush()}}function Ov(t,e,n,r){const i=e[F];if(256!=(256&i)){e[vr].effectManager?.flush(),Tc(e);try{om(e),function fm(t){return x.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&_v(t,e,n,2,r);const s=3==(3&i);if(s){const u=t.preOrderCheckHooks;null!==u&&wa(e,u,null)}else{const u=t.preOrderHooks;null!==u&&Ia(e,u,0,null),bc(e,0)}if(function TA(t){for(let e=oy(t);null!==e;e=sy(e)){if(!e[zp])continue;const n=e[ei];for(let r=0;r<n.length;r++){QT(n[r])}}}(e),Lv(e,2),null!==t.contentQueries&&bv(t,e),s){const u=t.contentCheckHooks;null!==u&&wa(e,u)}else{const u=t.contentHooks;null!==u&&Ia(e,u,1),bc(e,1)}!function YR(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=cv(e,ga);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Cr(~o);else{const s=o,a=n[++i],l=n[++i];hM(a,s),r.runInContext(l,2,e[s])}}}finally{null===e[ga]&&dv(e,ga),Cr(-1)}}(t,e);const a=t.components;null!==a&&kv(e,a,0);const l=t.viewQuery;if(null!==l&&Od(2,l,r),s){const u=t.viewCheckHooks;null!==u&&wa(e,u)}else{const u=t.viewHooks;null!==u&&Ia(e,u,2),bc(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[F]&=-73,sm(e)}finally{Mc()}}}function Lv(t,e){for(let n=oy(t);null!==n;n=sy(n))for(let r=He;r<n.length;r++)Fv(n[r],e)}function MA(t,e,n){Fv(pt(e,t),n)}function Fv(t,e){if(!function KT(t){return 128==(128&t[F])}(t))return;const n=t[I];if(80&t[F]&&0===e||1024&t[F]||2===e)Ov(n,t,n.template,t[ye]);else if(t[bo]>0){Lv(t,1);const i=t[I].components;null!==i&&kv(t,i,1)}}function kv(t,e,n){for(let r=0;r<e.length;r++)MA(t,e[r],n)}class Jo{get rootNodes(){const e=this._lView,n=e[I];return Qo(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ye]}set context(e){this._lView[ye]=e}get destroyed(){return 256==(256&this._lView[F])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[de];if(ot(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Zc(e,r),xa(n,r))}this._attachedToViewContainer=!1}cy(this._lView[I],this._lView)}onDestroy(e){!function lm(t,e){if(256==(256&t[F]))throw new w(911,!1);null===t[Wn]&&(t[Wn]=[]),t[Wn].push(e)}(this._lView,e)}markForCheck(){Ko(this._cdRefInjectingView||this._lView)}detach(){this._lView[F]&=-129}reattach(){this._lView[F]|=128}detectChanges(){cl(this._lView[I],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sb(t,e){Bo(t,e,e[k],2,null,null)}(this._lView[I],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=e}}class bA extends Jo{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;cl(e[I],e,e[ye],!1)}checkNoChanges(){}get context(){return null}}class jv extends nl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Z(e);return new es(n,this.ngModule)}}function Vv(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class AA{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ua(r);const i=this.injector.get(e,Id,r);return i!==Id||n===Id?i:this.parentInjector.get(e,n,r)}}class es extends Qy{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=Vv(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Vv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function CT(t){return t.map(DT).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof wn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new AA(e,o):e,a=s.get(ev,null);if(null===a)throw new w(407,!1);const c={rendererFactory:a,sanitizer:s.get(PR,null),effectManager:s.get(Pv,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function XR(t,e,n,r){const o=r.get(rv,!1)||n===Ot.ShadowDom,s=t.selectRootElement(e,o);return function QR(t){Dv(t)}(s),s}(d,r,this.componentDef.encapsulation,s):Ba(d,h,function RA(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528,v=Ad(0,null,null,1,0,null,null,null,null,null,null),m=al(null,v,null,y,null,null,c,d,s,null,null);let E,_;Tc(m);try{const C=this.componentDef;let L,z=null;C.findHostDirectiveDefs?(L=[],z=new Map,C.findHostDirectiveDefs(C,L,z),L.push(C)):L=[C];const ce=function NA(t,e){const n=t[I],r=H;return t[r]=e,Ci(n,r,2,"#host",null)}(m,f),Re=function PA(t,e,n,r,i,o,s){const a=i[I];!function OA(t,e,n,r){for(const i of t)e.mergedAttrs=Mo(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(ul(e,e.mergedAttrs,!0),null!==n&&Cy(r,n,e))}(r,t,e,s);let l=null;null!==e&&(l=Yy(e,i[Xr]));const u=o.rendererFactory.createRenderer(e,n);let c=16;n.signals?c=4096:n.onPush&&(c=64);const d=al(i,Ev(n),null,c,i[t.index],t,o,u,null,null,l);return a.firstCreatePass&&Nd(a,t,r.length-1),ll(i,d),i[t.index]=d}(ce,f,C,L,m,c,d);_=function im(t,e){return t.data[e]}(v,H),f&&function FA(t,e,n,r){if(r)dc(t,n,["ng-version",OR.full]);else{const{attrs:i,classes:o}=function wT(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Lt(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&dc(t,n,i),o&&o.length>0&&Dy(t,n,o.join(" "))}}(d,C,f,r),void 0!==n&&function kA(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(_,this.ngContentSelectors,n),E=function LA(t,e,n,r,i,o){const s=ke(),a=i[I],l=st(s,i);Iv(a,i,s,n,null,r);for(let c=0;c<n.length;c++)Be(wr(i,a,s.directiveStart+c,s),i);Sv(a,i,s),l&&Be(l,i);const u=wr(i,a,s.directiveStart+s.componentOffset,s);if(t[ye]=i[ye]=u,null!==o)for(const c of o)c(u,e);return Md(a,s,t),u}(Re,C,L,z,m,[jA]),Fd(v,m,null)}finally{Mc()}return new xA(this.componentType,E,Ei(_,m),m,_)}}class xA extends MR{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new bA(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;Ld(o[I],o,i,e,n),this.previousInputValues.set(e,n),Ko(pt(this._tNode.index,o))}}get injector(){return new oi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function jA(){const t=ke();Ca(D()[I],t)}function zd(t,e,n,r,i){const s=i?"class":"style";Ld(t,n,e.inputs[s],s,r)}function Ni(t,e,n,r){const i=D(),o=$(),s=H+t,a=i[k],l=o.firstCreatePass?function _x(t,e,n,r,i,o){const s=e.consts,l=Ci(e,t,2,r,Zn(s,i));return function xd(t,e,n,r){if(cm()){const i=null===r?null:{"":-1},o=function dA(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(kp(e,s.selectors,!1))if(r||(r=[]),kt(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Nd(t,e,a.length)}else r.unshift(s),Nd(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Iv(t,e,n,s,i,a),i&&function hA(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new w(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Mo(n.mergedAttrs,n.attrs)}(e,n,l,Zn(s,o)),null!==l.attrs&&ul(l,l.attrs,!1),null!==l.mergedAttrs&&ul(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,e,n,r):o.data[s],u=a_(o,i,l,a,e,t);i[s]=u;const c=function ma(t){return 1==(1&t.flags)}(l);return tn(l,!0),Cy(a,u,l),32!=(32&l.flags)&&Da()&&za(o,i,u,l),0===function eM(){return x.lFrame.elementDepthCount}()&&Be(u,i),function tM(){x.lFrame.elementDepthCount++}(),c&&(function bd(t,e,n){cm()&&(function uA(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;_r(n)&&function mA(t,e,n){const r=st(e,t),i=Ev(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=ll(t,al(t,i,null,s,r,e,null,t[vr].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ba(n,e),Be(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],u=wr(e,t,a,n);Be(u,e),null!==s&&yA(0,a-i,u,l,0,s),kt(l)&&(pt(n.index,e)[ye]=wr(e,t,a,n))}}(t,e,n,st(n,e)),64==(64&n.flags)&&Sv(t,e,n))}(o,i,l),Md(o,l,i)),null!==r&&function Rd(t,e,n=st){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}(i,l),Ni}function Pi(){let t=ke();Dc()?function Cc(){x.lFrame.isParent=!1}():(t=t.parent,tn(t,!1));const e=t;(function rM(t){return x.skipHydrationRootTNode===t})(e)&&function aM(){x.skipHydrationRootTNode=null}(),function nM(){x.lFrame.elementDepthCount--}();const n=$();return n.firstCreatePass&&(Ca(n,t),gc(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function IM(t){return 0!=(8&t.flags)}(e)&&zd(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function SM(t){return 0!=(16&t.flags)}(e)&&zd(n,e,D(),e.stylesWithoutHost,!1),Pi}function yl(t,e,n,r){return Ni(t,e,n,r),Pi(),yl}let a_=(t,e,n,r,i,o)=>(qn(!0),Ba(r,i,function Dm(){return x.lFrame.currentNamespace}()));function vl(t){return!!t&&"function"==typeof t.then}function c_(t){return!!t&&"function"==typeof t.subscribe}function Jd(t,e=""){const n=D(),r=$(),i=t+H,o=r.firstCreatePass?Ci(r,i,1,e,null):r.data[i],s=V_(r,n,o,e,t);n[i]=s,Da()&&za(r,n,s,o),tn(o,!1)}let V_=(t,e,n,r,i)=>(qn(!0),function Ha(t,e){return t.createText(e)}(e[k],r));const Fi="en-US";let lE=Fi;class ki{}class OE{}class ah extends ki{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jv(this);const i=ft(e);this._bootstrapComponents=In(i.bootstrap),this._r3Injector=yv(e,n,[{provide:ki,useValue:this},{provide:nl,useValue:this.componentFactoryResolver},...r],Se(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class lh extends OE{constructor(e){super(),this.moduleType=e}create(e){return new ah(this.moduleType,e,[])}}class LE extends ki{constructor(e){super(),this.componentFactoryResolver=new jv(this),this.instance=null;const n=new dd([...e.providers,{provide:ki,useValue:this},{provide:nl,useValue:this.componentFactoryResolver}],e.parent||Ka(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function uh(t,e,n=null){return new LE({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let CN=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Uy(0,n.type),i=r.length>0?uh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=A({token:t,providedIn:"environment",factory:()=>new t(b(wn))}),t})();function FE(t){t.getStandaloneInjector=e=>e.get(CN).getOrCreateStandaloneInjector(t)}function dh(t){return e=>{setTimeout(t,void 0,e)}}const Ke=class qN extends pn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=dh(o),i&&(i=dh(i)),s&&(s=dh(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Et&&e.add(a),a}};let Ut=(()=>{class t{}return t.__NG_ELEMENT_ID__=oP,t})();function oP(){return function JE(t,e){let n;const r=e[t.index];return ot(r)?n=r:(n=function Mv(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}(r,e,null,t),e[t.index]=n,ll(e,n)),eD(n,e,t,r),new XE(n,t,e)}(ke(),D())}const sP=Ut,XE=class extends sP{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ei(this._hostTNode,this._hostLView)}get injector(){return new oi(this._hostTNode,this._hostLView)}get parentInjector(){const e=Nc(this._hostTNode,this._hostLView);if(Sm(e)){const n=Ta(e,this._hostLView),r=Sa(e);return new oi(n[I].data[r+8],n)}return new oi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=QE(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-He}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Lo(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}const l=s?e:new es(Z(e)),u=r||this.parentInjector;if(!o&&null==l.ngModule){const y=(s?u:this.parentInjector).get(wn,null);y&&(o=y)}Z(l.componentType??{});const f=l.create(u,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,o=i[I];if(function XT(t){return ot(t[de])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const u=i[de],c=new XE(u,u[Ue],u[de]);c.detach(c.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;if(function Mb(t,e,n,r){const i=He+r,o=n.length;r>0&&(n[i-1][Ft]=e),r<o-He?(e[Ft]=n[i],jm(n,He+r,e)):(n.push(e),e[Ft]=null),e[de]=n;const s=e[Ao];null!==s&&n!==s&&function bb(t,e){const n=t[ei];e[ve]!==e[de][de][ve]&&(t[zp]=!0),null===n?t[ei]=[e]:n.push(e)}(s,e);const a=e[Xt];null!==a&&a.insertView(t),e[F]|=128}(o,i,a,s),!r){const l=Xc(s,a),u=i[k],c=$a(u,a[Qt]);null!==c&&function Ib(t,e,n,r,i,o){r[Te]=i,r[Ue]=e,Bo(t,r,n,1,i,o)}(o,a[Ue],u,i,c,l)}return e.attachToViewContainerRef(),jm(gh(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=QE(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Zc(this._lContainer,n);r&&(xa(gh(this._lContainer),n),cy(r[I],r))}detach(e){const n=this._adjustIndex(e,-1),r=Zc(this._lContainer,n);return r&&null!=xa(gh(this._lContainer),n)?new Jo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function QE(t){return t[8]}function gh(t){return t[8]||(t[8]=[])}let eD=function tD(t,e,n,r){if(t[Qt])return;let i;i=8&n.type?ue(r):function aP(t,e){const n=t[k],r=n.createComment(""),i=st(e,t);return Ir(n,$a(n,i),r,function Nb(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Qt]=i};const Sh=new T("Application Initializer");let Th=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=S(Sh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(vl(o))n.push(o);else if(c_(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),TD=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const bn=new T("LocaleId",{providedIn:"root",factory:()=>S(bn,U.Optional|U.SkipSelf)||function jP(){return typeof $localize<"u"&&$localize.locale||Fi}()});let MD=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Dt(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class HP{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let bD=(()=>{class t{compileModuleSync(n){return new lh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=In(ft(n).declarations).reduce((s,a)=>{const l=Z(a);return l&&s.push(new es(l)),s},[]);return new HP(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function xD(...t){}class fe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ke(!1),this.onMicrotaskEmpty=new Ke(!1),this.onStable=new Ke(!1),this.onError=new Ke(!1),typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function zP(){const t="function"==typeof ie.requestAnimationFrame;let e=ie[t?"requestAnimationFrame":"setTimeout"],n=ie[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function ZP(t){const e=()=>{!function WP(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ie,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bh(t),t.isCheckStableRunning=!0,Mh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return ND(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),PD(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return ND(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),PD(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,bh(t),Mh(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fe.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(fe.isInAngularZone())throw new w(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,GP,xD,xD);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const GP={};function Mh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ND(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function PD(t){t._nesting--,Mh(t)}class qP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ke,this.onMicrotaskEmpty=new Ke,this.onStable=new Ke,this.onError=new Ke}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const OD=new T("",{providedIn:"root",factory:LD});function LD(){const t=S(fe);let e=!0;return function ZS(...t){const e=wo(t),n=function US(t,e){return"number"==typeof Ju(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Pt(r[0]):Zr(n)(Fe(r,e)):qt}(new Ie(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ie(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{fe.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Ep()))}const FD=new T(""),Ml=new T("");let xh,Rh=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xh||(function YP(t){xh=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(b(fe),b(Ah),b(Ml))},t.\u0275prov=A({token:t,factory:t.\u0275fac}),t})(),Ah=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return xh?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Jn=null;const kD=new T("AllowMultipleToken"),Nh=new T("PlatformDestroyListeners"),Ph=new T("appBootstrapListener");class VD{constructor(e,n){this.name=e,this.token=n}}function HD(t,e,n=[]){const r=`Platform: ${e}`,i=new T(r);return(o=[])=>{let s=Oh();if(!s||s.injector.get(kD,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function QP(t){if(Jn&&!Jn.get(kD,!1))throw new w(400,!1);(function jD(){!function VT(t){Kp=t}(()=>{throw new w(600,!1)})})(),Jn=t;const e=t.get($D);(function UD(t){t.get(Gy,null)?.forEach(n=>n())})(t)}(function BD(t=[],e){return Sn.create({name:e,providers:[{provide:ud,useValue:"platform"},{provide:Nh,useValue:new Set([()=>Jn=null])},...t]})}(a,r))}return function eO(t){const e=Oh();if(!e)throw new w(401,!1);return e}()}}function Oh(){return Jn?.get($D)??null}let $D=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function tO(t="zone.js",e){return"noop"===t?new qP:"zone.js"===t?new fe(e):t}(r?.ngZone,function zD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function DN(t,e,n){return new ah(t,e,n)}(n.moduleType,this.injector,function YD(t){return[{provide:fe,useFactory:t},{provide:Zo,multi:!0,useFactory:()=>{const e=S(rO,{optional:!0});return()=>e.initialize()}},{provide:qD,useFactory:nO},{provide:OD,useFactory:LD}]}(()=>i)),s=o.injector.get(Tr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{bl(this._modules,o),a.unsubscribe()})}),function GD(t,e,n){try{const r=n();return vl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Th);return a.runInitializers(),a.donePromise.then(()=>(function uE(t){Ct(t,"Expected localeId to be defined"),"string"==typeof t&&(lE=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(bn,Fi)||Fi),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=WD({},r);return function KP(t,e,n){const r=new lh(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ui);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new w(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new w(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Nh,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(b(Sn))},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function WD(t,e){return Array.isArray(e)?e.reduce(WD,t):{...t,...e}}let Ui=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=S(qD),this.zoneIsStable=S(OD),this.componentTypes=[],this.components=[],this.isStable=S(MD).hasPendingTasks.pipe(Yt(n=>n?N(!1):this.zoneIsStable),function qS(t,e=Bn){return t=t??YS,xe((n,r)=>{let i,o=!0;n.subscribe(Ne(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),Ep()),this._injector=S(wn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof Qy;if(!this._injector.get(Th).done)throw!i&&function Yr(t){const e=Z(t)||Ve(t)||it(t);return null!==e&&e.standalone}(n),new w(405,!1);let s;s=i?n:this._injector.get(nl).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function XP(t){return t.isBoundToModule}(s)?void 0:this._injector.get(ki),u=s.create(Sn.NULL,[],r||s.selector,a),c=u.location.nativeElement,d=u.injector.get(FD,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),bl(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new w(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;bl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Ph,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>bl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new w(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function bl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const qD=new T("",{providedIn:"root",factory:()=>S(Tr).handleError.bind(void 0)});function nO(){const t=S(fe),e=S(Tr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let rO=(()=>{class t{constructor(){this.zone=S(fe),this.applicationRef=S(Ui)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let Lh=(()=>{class t{}return t.__NG_ELEMENT_ID__=oO,t})();function oO(t){return function sO(t,e,n){if(_r(t)&&!n){const r=pt(t.index,e);return new Jo(r,r)}return 47&t.type?new Jo(e[ve],e):null}(ke(),D(),16==(16&t))}const _O=HD(null,"core",[]);let EO=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(b(Ui))},t.\u0275mod=yr({type:t}),t.\u0275inj=zn({}),t})(),$h=null;function Hi(){return $h}class NO{}const St=new T("DocumentToken");let zh=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:function(){return S(OO)},providedIn:"platform"}),t})();const PO=new T("Location Initialized");let OO=(()=>{class t extends zh{constructor(){super(),this._doc=S(St),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hi().getBaseHref(this._doc)}onPopState(n){const r=Hi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Hi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function Gh(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function dC(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Rn(t){return t&&"?"!==t[0]?"?"+t:t}let xr=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:function(){return S(fC)},providedIn:"root"}),t})();const hC=new T("appBaseHref");let fC=(()=>{class t extends xr{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??S(St).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Gh(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Rn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Rn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Rn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(b(zh),b(hC,8))},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),LO=(()=>{class t extends xr{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Gh(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Rn(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Rn(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(b(zh),b(hC,8))},t.\u0275prov=A({token:t,factory:t.\u0275fac}),t})(),Wh=(()=>{class t{constructor(n){this._subject=new Ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function jO(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(dC(gC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Rn(r))}normalize(n){return t.stripTrailingSlash(function kO(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,gC(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Rn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Rn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Rn,t.joinWithSlash=Gh,t.stripTrailingSlash=dC,t.\u0275fac=function(n){return new(n||t)(b(xr))},t.\u0275prov=A({token:t,factory:function(){return function FO(){return new Wh(b(xr))}()},providedIn:"root"}),t})();function gC(t){return t.replace(/\/index.html$/,"")}let JL=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=yr({type:t}),t.\u0275inj=zn({}),t})();function AC(t){return"server"===t}let rF=(()=>{class t{}return t.\u0275prov=A({token:t,providedIn:"root",factory:()=>new iF(b(St),window)}),t})();class iF{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function oF(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=xC(this.window.history)||xC(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xC(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class RF extends NO{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class df extends RF{static makeCurrent(){!function xO(t){$h||($h=t)}(new df)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function AF(){return vs=vs||document.querySelector("base"),vs?vs.getAttribute("href"):null}();return null==n?null:function xF(t){Gl=Gl||document.createElement("a"),Gl.setAttribute("href",t);const e=Gl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){vs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function CL(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Gl,vs=null,PF=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:t.\u0275fac}),t})();const hf=new T("EventManagerPlugins");let FC=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new w(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)(b(hf),b(fe))},t.\u0275prov=A({token:t,factory:t.\u0275fac}),t})();class kC{constructor(e){this._doc=e}}const ff="ng-app-id";let jC=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=AC(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${ff}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(ff),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(ff,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(b(St),b(Xa),b(Wy,8),b(vi))},t.\u0275prov=A({token:t,factory:t.\u0275fac}),t})();const gf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pf=/%COMP%/g,kF=new T("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function UC(t,e){return e.map(n=>n.replace(pf,t))}let HC=(()=>{class t{constructor(n,r,i,o,s,a,l,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=AC(a),this.defaultRenderer=new mf(n,s,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ot.ShadowDom&&(r={...r,encapsulation:Ot.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof $C?i.applyToHost(n):i instanceof yf&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Ot.Emulated:o=new $C(l,u,r,this.appId,c,s,a,d);break;case Ot.ShadowDom:return new HF(l,u,n,r,s,a,this.nonce,d);default:o=new yf(l,u,r,c,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)(b(FC),b(jC),b(Xa),b(kF),b(St),b(vi),b(fe),b(Wy))},t.\u0275prov=A({token:t,factory:t.\u0275fac}),t})();class mf{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(gf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(BC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(BC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new w(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=gf[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=gf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Yn.DashCase|Yn.Important)?e.style.setProperty(n,r,i&Yn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Yn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Hi().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function BC(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class HF extends mf{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=UC(i.id,i.styles);for(const c of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yf extends mf{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?UC(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class $C extends yf{constructor(e,n,r,i,o,s,a,l){const u=i+"-"+r.id;super(e,n,r,o,s,a,l,u),this.contentAttr=function jF(t){return"_ngcontent-%COMP%".replace(pf,t)}(u),this.hostAttr=function VF(t){return"_nghost-%COMP%".replace(pf,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let BF=(()=>{class t extends kC{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(b(St))},t.\u0275prov=A({token:t,factory:t.\u0275fac}),t})();const zC=["alt","control","meta","shift"],$F={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let GF=(()=>{class t extends kC{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hi().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),zC.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=$F[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),zC.forEach(s=>{s!==i&&(0,zF[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(b(St))},t.\u0275prov=A({token:t,factory:t.\u0275fac}),t})();const YF=HD(_O,"browser",[{provide:vi,useValue:"browser"},{provide:Gy,useValue:function WF(){df.makeCurrent()},multi:!0},{provide:St,useFactory:function qF(){return function Ub(t){ed=t}(document),document},deps:[]}]),KF=new T(""),ZC=[{provide:Ml,useClass:class NF{addToWindow(e){ie.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new w(5103,!1);return o},ie.getAllAngularTestabilities=()=>e.getAllTestabilities(),ie.getAllAngularRootElements=()=>e.getAllRootElements(),ie.frameworkStabilizers||(ie.frameworkStabilizers=[]),ie.frameworkStabilizers.push(r=>{const i=ie.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Hi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:FD,useClass:Rh,deps:[fe,Ah,Ml]},{provide:Rh,useClass:Rh,deps:[fe,Ah,Ml]}],qC=[{provide:ud,useValue:"root"},{provide:Tr,useFactory:function ZF(){return new Tr},deps:[]},{provide:hf,useClass:BF,multi:!0,deps:[St,fe,vi]},{provide:hf,useClass:GF,multi:!0,deps:[St]},HC,jC,FC,{provide:ev,useExisting:HC},{provide:class sF{},useClass:PF,deps:[]},[]];let XF=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Xa,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)(b(KF,12))},t.\u0275mod=yr({type:t}),t.\u0275inj=zn({providers:[...qC,...ZC],imports:[JL,EO]}),t})(),YC=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(b(St))},t.\u0275prov=A({token:t,factory:function(n){let r=null;return r=n?new n:function JF(){return new YC(b(St))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:ok}=Array,{getPrototypeOf:sk,prototype:ak,keys:lk}=Object;const{isArray:dk}=Array;function _f(...t){const e=wo(t),n=function VS(t){return te(Ju(t))?t.pop():void 0}(t),{args:r,keys:i}=function uk(t){if(1===t.length){const e=t[0];if(ok(e))return{args:e,keys:null};if(function ck(t){return t&&"object"==typeof t&&sk(t)===ak}(e)){const n=lk(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return Fe([],e);const o=new Ie(function pk(t,e,n=Bn){return r=>{JC(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)JC(e,()=>{const u=Fe(t[l],e);let c=!1;u.subscribe(Ne(r,d=>{o[l]=d,c||(c=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>function gk(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,s):Bn));return n?o.pipe(function fk(t){return se(e=>function hk(t,e){return dk(e)?t(...e):t(e)}(t,e))}(n)):o}function JC(t,e,n){t?mn(n,t,e):e()}const Wl=Eo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ef(...t){return function mk(){return Zr(1)}()(Fe(t,wo(t)))}function ew(t){return new Ie(e=>{Pt(t()).subscribe(e)})}function _s(t,e){const n=te(t)?t:()=>t,r=i=>i.error(n());return new Ie(e?i=>e.schedule(r,0,i):r)}function Df(){return xe((t,e)=>{let n=null;t._refCount++;const r=Ne(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class tw extends Ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,np(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Et;const n=this.getSubject();e.add(this.source.subscribe(Ne(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Et.EMPTY)}return e}refCount(){return Df()(this)}}function $i(t){return t<=0?()=>qt:xe((e,n)=>{let r=0;e.subscribe(Ne(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function tr(t,e){return xe((n,r)=>{let i=0;n.subscribe(Ne(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Zl(t){return xe((e,n)=>{let r=!1;e.subscribe(Ne(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function nw(t=vk){return xe((e,n)=>{let r=!1;e.subscribe(Ne(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function vk(){return new Wl}function Nr(t,e){const n=arguments.length>=2;return r=>r.pipe(t?tr((i,o)=>t(i,o,r)):Bn,$i(1),n?Zl(e):nw(()=>new Wl))}function Es(t,e){return te(e)?Le(t,e,1):Le(t,1)}function Je(t,e,n){const r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?xe((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ne(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Bn}function Pr(t){return xe((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Ne(n,void 0,void 0,s=>{o=Pt(t(s,Pr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Cf(t){return t<=0?()=>qt:xe((e,n)=>{let r=[];e.subscribe(Ne(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function wf(t){return xe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const V="primary",Ds=Symbol("RouteTitle");class wk{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function zi(t){return new wk(t)}function Ik(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ln(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!rw(t[i],e[i]))return!1;return!0}function rw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function iw(t){return t.length>0?t[t.length-1]:null}function nr(t){return function ik(t){return!!t&&(t instanceof Ie||te(t.lift)&&te(t.subscribe))}(t)?t:vl(t)?Fe(Promise.resolve(t)):N(t)}const Tk={exact:function aw(t,e,n){if(!Or(t.segments,e.segments)||!ql(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!aw(t.children[r],e.children[r],n))return!1;return!0},subset:lw},ow={exact:function Mk(t,e){return ln(t,e)},subset:function bk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>rw(t[n],e[n]))},ignored:()=>!0};function sw(t,e,n){return Tk[n.paths](t.root,e.root,n.matrixParams)&&ow[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function lw(t,e,n){return uw(t,e,e.segments,n)}function uw(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Or(i,n)||e.hasChildren()||!ql(i,n,r))}if(t.segments.length===n.length){if(!Or(t.segments,n)||!ql(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!lw(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Or(t.segments,i)&&ql(t.segments,i,r)&&t.children[V])&&uw(t.children[V],e,o,r)}}function ql(t,e,n){return e.every((r,i)=>ow[n](t[i].parameters,r.parameters))}class Gi{constructor(e=new Q([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zi(this.queryParams)),this._queryParamMap}toString(){return xk.serialize(this)}}class Q{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yl(this)}}class Cs{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=zi(this.parameters)),this._parameterMap}toString(){return hw(this)}}function Or(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let ws=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:function(){return new If},providedIn:"root"}),t})();class If{parse(e){const n=new Bk(e);return new Gi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Is(e.root,!0)}`,r=function Ok(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Kl(n)}=${Kl(i)}`).join("&"):`${Kl(n)}=${Kl(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Nk(t){return encodeURI(t)}(e.fragment)}`:""}`}}const xk=new If;function Yl(t){return t.segments.map(e=>hw(e)).join("/")}function Is(t,e){if(!t.hasChildren())return Yl(t);if(e){const n=t.children[V]?Is(t.children[V],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==V&&r.push(`${i}:${Is(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Ak(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===V&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==V&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===V?[Is(t.children[V],!1)]:[`${i}:${Is(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[V]?`${Yl(t)}/${n[0]}`:`${Yl(t)}/(${n.join("//")})`}}function cw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kl(t){return cw(t).replace(/%3B/gi,";")}function Sf(t){return cw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xl(t){return decodeURIComponent(t)}function dw(t){return Xl(t.replace(/\+/g,"%20"))}function hw(t){return`${Sf(t.path)}${function Pk(t){return Object.keys(t).map(e=>`;${Sf(e)}=${Sf(t[e])}`).join("")}(t.parameters)}`}const Lk=/^[^\/()?;#]+/;function Tf(t){const e=t.match(Lk);return e?e[0]:""}const Fk=/^[^\/()?;=#]+/,jk=/^[^=?&#]+/,Uk=/^[^&#]+/;class Bk{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Q([],{}):new Q([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[V]=new Q(e,n)),r}parseSegment(){const e=Tf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(e),new Cs(Xl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function kk(t){const e=t.match(Fk);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Tf(this.remaining);i&&(r=i,this.capture(r))}e[Xl(n)]=Xl(r)}parseQueryParam(e){const n=function Vk(t){const e=t.match(jk);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function Hk(t){const e=t.match(Uk);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=dw(n),o=dw(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Tf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new w(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=V);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[V]:new Q([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new w(4011,!1)}}function fw(t){return t.segments.length>0?new Q([],{[V]:t}):t}function gw(t){const e={};for(const r of Object.keys(t.children)){const o=gw(t.children[r]);if(r===V&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function $k(t){if(1===t.numberOfChildren&&t.children[V]){const e=t.children[V];return new Q(t.segments.concat(e.segments),e.children)}return t}(new Q(t.segments,e))}function Lr(t){return t instanceof Gi}function pw(t){let e;const i=fw(function n(o){const s={};for(const l of o.children){const u=n(l);s[l.outlet]=u}const a=new Q(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function mw(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Mf(i,i,i,n,r);const o=function Gk(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new vw(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new vw(n,e,r)}(e);if(o.toRoot())return Mf(i,i,new Q([],{}),n,r);const s=function Wk(t,e,n){if(t.isAbsolute)return new Jl(e,!0,0);if(!n)return new Jl(e,!1,NaN);if(null===n.parent)return new Jl(n,!0,0);const r=Ql(t.commands[0])?0:1;return function Zk(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new w(4005,!1);i=r.segments.length}return new Jl(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Ts(s.segmentGroup,s.index,o.commands):_w(s.segmentGroup,s.index,o.commands);return Mf(i,s.segmentGroup,a,n,r)}function Ql(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ss(t){return"object"==typeof t&&null!=t&&t.outlets}function Mf(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),s=t===e?n:yw(t,e,n);const a=fw(gw(s));return new Gi(a,o,i)}function yw(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:yw(o,e,n)}),new Q(t.segments,r)}class vw{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ql(r[0]))throw new w(4003,!1);const i=r.find(Ss);if(i&&i!==iw(r))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jl{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function _w(t,e,n){if(t||(t=new Q([],{})),0===t.segments.length&&t.hasChildren())return Ts(t,e,n);const r=function Yk(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Ss(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!Dw(l,u,s))return o;r+=2}else{if(!Dw(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new Q(t.segments.slice(0,r.pathIndex),{});return o.children[V]=new Q(t.segments.slice(r.pathIndex),t.children),Ts(o,0,i)}return r.match&&0===i.length?new Q(t.segments,{}):r.match&&!t.hasChildren()?bf(t,e,n):r.match?Ts(t,0,i):bf(t,e,n)}function Ts(t,e,n){if(0===n.length)return new Q(t.segments,{});{const r=function qk(t){return Ss(t[0])?t[0].outlets:{[V]:t}}(n),i={};if(!r[V]&&t.children[V]&&1===t.numberOfChildren&&0===t.children[V].segments.length){const o=Ts(t.children[V],e,n);return new Q(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=_w(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Q(t.segments,i)}}function bf(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Ss(o)){const l=Kk(o.outlets);return new Q(r,l)}if(0===i&&Ql(n[0])){r.push(new Cs(t.segments[e].path,Ew(n[0]))),i++;continue}const s=Ss(o)?o.outlets[V]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Ql(a)?(r.push(new Cs(s,Ew(a))),i+=2):(r.push(new Cs(s,{})),i++)}return new Q(r,{})}function Kk(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=bf(new Q([],{}),0,r))}),e}function Ew(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Dw(t,e,n){return t==n.path&&ln(e,n.parameters)}const Ms="imperative";class un{constructor(e,n){this.id=e,this.url=n}}class Rf extends un{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fr extends un{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eu extends un{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bs extends un{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Af extends un{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xk extends un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qk extends un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jk extends un{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class e2 extends un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t2 extends un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n2{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class r2{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class i2{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o2{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s2{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a2{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cw{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class l2{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Rs,this.attachRef=null}}let Rs=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new l2,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class ww{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=xf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=xf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Nf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Nf(e,this._root).map(n=>n.value)}}function xf(t,e){if(t===e.value)return e;for(const n of e.children){const r=xf(t,n);if(r)return r}return null}function Nf(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Nf(t,n);if(r.length)return r.unshift(e),r}return[]}class Nn{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Wi(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class Iw extends ww{constructor(e,n){super(e),this.snapshot=n,Pf(this,e)}toString(){return this.snapshot.toString()}}function Sw(t,e){const n=function u2(t,e){const s=new tu([],{},{},"",{},V,e,null,{});return new Mw("",new Nn(s,[]))}(0,e),r=new Dt([new Cs("",{})]),i=new Dt({}),o=new Dt({}),s=new Dt({}),a=new Dt(""),l=new Zi(r,i,s,a,o,V,e,n.root);return l.snapshot=n.root,new Iw(new Nn(l,[]),n)}class Zi{constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(se(u=>u[Ds]))??N(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(se(e=>zi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(se(e=>zi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Tw(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function c2(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class tu{get title(){return this.data?.[Ds]}constructor(e,n,r,i,o,s,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mw extends ww{constructor(e,n){super(n),this.url=e,Pf(this,n)}toString(){return bw(this._root)}}function Pf(t,e){e.value._routerState=t,e.children.forEach(n=>Pf(t,n))}function bw(t){const e=t.children.length>0?` { ${t.children.map(bw).join(", ")} } `:"";return`${t.value}${e}`}function Of(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ln(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ln(e.params,n.params)||t.paramsSubject.next(n.params),function Sk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ln(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ln(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Lf(t,e){const n=ln(t.params,e.params)&&function Rk(t,e){return Or(t,e)&&t.every((n,r)=>ln(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Lf(t.parent,e.parent))}let Rw=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=V,this.activateEvents=new Ke,this.deactivateEvents=new Ke,this.attachEvents=new Ke,this.detachEvents=new Ke,this.parentContexts=S(Rs),this.location=S(Ut),this.changeDetector=S(Lh),this.environmentInjector=S(wn),this.inputBinder=S(nu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new w(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new d2(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=We({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Dr]}),t})();class d2{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Zi?this.route:e===Rs?this.childContexts:this.parent.get(e,n)}}const nu=new T("");let Aw=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=_f([r.queryParams,r.params,r.data]).pipe(Yt(([o,s,a],l)=>(a={...o,...s,...a},0===l?N(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function AO(t){const e=Z(t);if(!e)return null;const n=new es(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:t.\u0275fac}),t})();function As(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function f2(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return As(t,r,i);return As(t,r)})}(t,e,n);return new Nn(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>As(t,a)),s}}const r=function g2(t){return new Zi(new Dt(t.url),new Dt(t.params),new Dt(t.queryParams),new Dt(t.fragment),new Dt(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>As(t,o));return new Nn(r,i)}}const Ff="ngNavigationCancelingError";function xw(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Lr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Nw(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function Nw(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Ff]=!0,r.cancellationCode=e,n&&(r.url=n),r}function Pw(t){return Ow(t)&&Lr(t.url)}function Ow(t){return t&&t[Ff]}let Lw=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=hc({type:t,selectors:[["ng-component"]],standalone:!0,features:[FE],decls:1,vars:0,template:function(n,r){1&n&&yl(0,"router-outlet")},dependencies:[Rw],encapsulation:2}),t})();function kf(t){const e=t.children&&t.children.map(kf),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==V&&(n.component=Lw),n}function zt(t){return t.outlet||V}function xs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class D2{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Of(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Wi(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Wi(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Wi(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Wi(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new a2(o.value.snapshot))}),e.children.length&&this.forwardEvent(new o2(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(Of(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Of(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=xs(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class Fw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ru{constructor(e,n){this.component=e,this.route=n}}function C2(t,e,n){const r=t._root;return Ns(r,e?e._root:null,n,[r.value])}function qi(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function nT(t){return null!==sa(t)}(t)?e.get(t):t:r}function Ns(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Wi(e);return t.children.forEach(s=>{(function I2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function S2(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Or(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Or(t.url,e.url)||!ln(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lf(t,e)||!ln(t.queryParams,e.queryParams);default:return!Lf(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Fw(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Ns(t,e,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ru(a.outlet.component,s))}else s&&Ps(e,a,i),i.canActivateChecks.push(new Fw(r)),Ns(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ps(a,n.getContext(s),i)),i}function Ps(t,e,n){const r=Wi(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Ps(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new ru(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Os(t){return"function"==typeof t}function kw(t){return t instanceof Wl||"EmptyError"===t?.name}const iu=Symbol("INITIAL_VALUE");function Yi(){return Yt(t=>_f(t.map(e=>e.pipe($i(1),function yk(...t){const e=wo(t);return xe((n,r)=>{(e?Ef(t,n,e):Ef(t,n)).subscribe(r)})}(iu)))).pipe(se(e=>{for(const n of e)if(!0!==n){if(n===iu)return iu;if(!1===n||n instanceof Gi)return n}return!0}),tr(e=>e!==iu),$i(1)))}function jw(t){return function rS(...t){return Jg(t)}(Je(e=>{if(Lr(e))throw xw(0,e)}),se(e=>!0===e))}class ou{constructor(e){this.segmentGroup=e||null}}class Vw{constructor(e){this.urlTree=e}}function Ki(t){return _s(new ou(t))}function Uw(t){return _s(new Vw(t))}class G2{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new w(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return N(r);if(i.numberOfChildren>1||!i.children[V])return _s(new w(4e3,!1));i=i.children[V]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Gi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Q(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new w(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const jf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function W2(t,e,n,r,i){const o=Vf(t,e,n);return o.matched?(r=function p2(t,e){return t.providers&&!t._injector&&(t._injector=uh(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function B2(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?N(i.map(s=>{const a=qi(s,t);return nr(function x2(t){return t&&Os(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Yi(),jw()):N(!0)}(r,e,n).pipe(se(s=>!0===s?o:{...jf}))):N(o)}function Vf(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...jf}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ik)(n,t,e);if(!i)return{...jf};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Hw(t,e,n,r){return n.length>0&&function Y2(t,e,n){return n.some(r=>su(t,e,r)&&zt(r)!==V)}(t,n,r)?{segmentGroup:new Q(e,q2(r,new Q(n,t.children))),slicedSegments:[]}:0===n.length&&function K2(t,e,n){return n.some(r=>su(t,e,r))}(t,n,r)?{segmentGroup:new Q(t.segments,Z2(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Q(t.segments,t.children),slicedSegments:n}}function Z2(t,e,n,r,i){const o={};for(const s of r)if(su(t,n,s)&&!i[zt(s)]){const a=new Q([],{});o[zt(s)]=a}return{...i,...o}}function q2(t,e){const n={};n[V]=e;for(const r of t)if(""===r.path&&zt(r)!==V){const i=new Q([],{});n[zt(r)]=i}return n}function su(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class ej{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new G2(this.urlSerializer,this.urlTree)}noMatchError(e){return new w(4002,!1)}recognize(){const e=Hw(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,V).pipe(Pr(n=>{if(n instanceof Vw)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof ou?this.noMatchError(n):n}),se(n=>{const r=new tu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},V,this.rootComponentType,null,{}),i=new Nn(r,n),o=new Mw("",i),s=function zk(t,e,n=null,r=null){return mw(pw(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,V).pipe(Pr(r=>{throw r instanceof ou?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=Tw(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Fe(i).pipe(Es(o=>{const s=r.children[o],a=function _2(t,e){const n=t.filter(r=>zt(r)===e);return n.push(...t.filter(r=>zt(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function Ek(t,e){return xe(function _k(t,e,n,r,i){return(o,s)=>{let a=n,l=e,u=0;o.subscribe(Ne(s,c=>{const d=u++;l=a?t(l,c,d):(a=!0,c),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Zl(null),function Dk(t,e){const n=arguments.length>=2;return r=>r.pipe(t?tr((i,o)=>t(i,o,r)):Bn,Cf(1),n?Zl(e):nw(()=>new Wl))}(),Le(o=>{if(null===o)return Ki(r);const s=Bw(o);return function tj(t){t.sort((e,n)=>e.value.outlet===V?-1:n.value.outlet===V?1:e.value.outlet.localeCompare(n.value.outlet))}(s),N(s)}))}processSegment(e,n,r,i,o,s){return Fe(n).pipe(Es(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Pr(l=>{if(l instanceof ou)return N(null);throw l}))),Nr(a=>!!a),Pr(a=>{if(kw(a))return function Q2(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?N([]):Ki(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function X2(t,e,n,r){return!!(zt(t)===r||r!==V&&su(e,n,t))&&("**"===t.path||Vf(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Ki(i):Ki(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Uw(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Le(s=>{const a=new Q(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=Vf(n,i,o);if(!a)return Ki(n);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?Uw(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Le(h=>this.processSegment(e,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const l=i.length>0?iw(i).parameters:{};a=N({snapshot:new tu(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$w(r),zt(r),r.component??r._loadedComponent??null,r,zw(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=W2(n,r,i,e).pipe(se(({matched:l,consumedSegments:u,remainingSegments:c,parameters:d})=>l?{snapshot:new tu(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$w(r),zt(r),r.component??r._loadedComponent??null,r,zw(r)),consumedSegments:u,remainingSegments:c}:null));return a.pipe(Yt(l=>null===l?Ki(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Yt(({routes:u})=>{const c=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:g,slicedSegments:p}=Hw(n,h,f,u);if(0===p.length&&g.hasChildren())return this.processChildren(c,u,g).pipe(se(v=>null===v?null:[new Nn(d,v)]));if(0===u.length&&0===p.length)return N([new Nn(d,[])]);const y=zt(r)===o;return this.processSegment(c,u,g,p,y?V:o,!0).pipe(se(v=>[new Nn(d,v)]))}))))}getChildConfig(e,n,r){return n.children?N({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?N({routes:n._loadedRoutes,injector:n._loadedInjector}):function H2(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?N(!0):N(i.map(s=>{const a=qi(s,t);return nr(function M2(t){return t&&Os(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Yi(),jw())}(e,n,r).pipe(Le(i=>i?this.configLoader.loadChildren(e,n).pipe(Je(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function z2(t){return _s(Nw(!1,3))}())):N({routes:[],injector:e})}}function nj(t){const e=t.value.routeConfig;return e&&""===e.path}function Bw(t){const e=[],n=new Set;for(const r of t){if(!nj(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=Bw(r.children);e.push(new Nn(r.value,i))}return e.filter(r=>!n.has(r))}function $w(t){return t.data||{}}function zw(t){return t.resolve||{}}function Gw(t){return"string"==typeof t.title||null===t.title}function Uf(t){return Yt(e=>{const n=t(e);return n?Fe(n).pipe(se(()=>e)):N(e)})}const Xi=new T("ROUTES");let Hf=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=S(bD)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return N(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=nr(n.loadComponent()).pipe(se(Ww),Je(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),wf(()=>{this.componentLoaders.delete(n)})),i=new tw(r,()=>new pn).pipe(Df());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return N({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(se(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u;return Array.isArray(a)?u=a:(l=a.create(n).injector,u=l.get(Xi,[],U.Self|U.Optional).flat()),{routes:u.map(kf),injector:l}}),wf(()=>{this.childrenLoaders.delete(r)})),s=new tw(o,()=>new pn).pipe(Df());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(n){return nr(n()).pipe(se(Ww),Le(r=>r instanceof OE||Array.isArray(r)?N(r):Fe(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ww(t){return function uj(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let au=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new pn,this.configLoader=S(Hf),this.environmentInjector=S(wn),this.urlSerializer=S(ws),this.rootContexts=S(Rs),this.inputBindingEnabled=null!==S(nu,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>N(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new r2(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new n2(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Dt({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ms,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(tr(r=>0!==r.id),se(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Yt(r=>{let i=!1,o=!1;return N(r).pipe(Je(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Yt(s=>{const a=n.browserUrlTree.toString(),l=!n.navigated||s.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!l&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const c="";return this.events.next(new bs(s.id,n.serializeUrl(r.rawUrl),c,0)),n.rawUrlTree=s.rawUrl,s.resolve(null),qt}if(n.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Zw(s.source)&&(n.browserUrlTree=s.extractedUrl),N(s).pipe(Yt(c=>{const d=this.transitions?.getValue();return this.events.next(new Rf(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),d!==this.transitions?.getValue()?qt:Promise.resolve(c)}),function rj(t,e,n,r,i,o){return Le(s=>function J2(t,e,n,r,i,o,s="emptyOnly"){return new ej(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(se(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Je(c=>{if(r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:c.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!c.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl);n.setBrowserUrl(h,c)}n.browserUrlTree=c.urlAfterRedirects}const d=new Xk(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:c,extractedUrl:d,source:h,restoredState:f,extras:g}=s,p=new Rf(c,this.urlSerializer.serialize(d),h,f);this.events.next(p);const y=Sw(0,this.rootComponentType).snapshot;return N(r={...s,targetSnapshot:y,urlAfterRedirects:d,extras:{...g,skipLocationChange:!1,replaceUrl:!1}})}{const c="";return this.events.next(new bs(s.id,n.serializeUrl(r.extractedUrl),c,1)),n.rawUrlTree=s.rawUrl,s.resolve(null),qt}}),Je(s=>{const a=new Qk(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),se(s=>r={...s,guards:C2(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function P2(t,e){return Le(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?N({...n,guardsResult:!0}):function O2(t,e,n,r){return Fe(t).pipe(Le(i=>function U2(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?N(o.map(a=>{const l=xs(e)??i,u=qi(a,l);return nr(function A2(t){return t&&Os(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):l.runInContext(()=>u(t,e,n,r))).pipe(Nr())})).pipe(Yi()):N(!0)}(i.component,i.route,n,e,r)),Nr(i=>!0!==i,!0))}(s,r,i,t).pipe(Le(a=>a&&function T2(t){return"boolean"==typeof t}(a)?function L2(t,e,n,r){return Fe(e).pipe(Es(i=>Ef(function k2(t,e){return null!==t&&e&&e(new i2(t)),N(!0)}(i.route.parent,r),function F2(t,e){return null!==t&&e&&e(new s2(t)),N(!0)}(i.route,r),function V2(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function w2(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>ew(()=>N(s.guards.map(l=>{const u=xs(s.node)??n,c=qi(l,u);return nr(function R2(t){return t&&Os(t.canActivateChild)}(c)?c.canActivateChild(r,t):u.runInContext(()=>c(r,t))).pipe(Nr())})).pipe(Yi())));return N(o).pipe(Yi())}(t,i.path,n),function j2(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return N(!0);const i=r.map(o=>ew(()=>{const s=xs(e)??n,a=qi(o,s);return nr(function b2(t){return t&&Os(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Nr())}));return N(i).pipe(Yi())}(t,i.route,n))),Nr(i=>!0!==i,!0))}(r,o,t,e):N(a)),se(a=>({...n,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),Je(s=>{if(r.guardsResult=s.guardsResult,Lr(s.guardsResult))throw xw(0,s.guardsResult);const a=new Jk(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),tr(s=>!!s.guardsResult||(n.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Uf(s=>{if(s.guards.canActivateChecks.length)return N(s).pipe(Je(a=>{const l=new e2(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Yt(a=>{let l=!1;return N(a).pipe(function ij(t,e){return Le(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return N(n);let o=0;return Fe(i).pipe(Es(s=>function oj(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!Gw(i)&&(o[Ds]=i.title),function sj(t,e,n,r){const i=function aj(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return N({});const o={};return Fe(i).pipe(Le(s=>function lj(t,e,n,r){const i=xs(e)??r,o=qi(t,i);return nr(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Nr(),Je(a=>{o[s]=a}))),Cf(1),function Ck(t){return se(()=>t)}(o),Pr(s=>kw(s)?qt:_s(s)))}(o,t,e,r).pipe(se(s=>(t._resolvedData=s,t.data=Tw(t,n).resolve,i&&Gw(i)&&(t.data[Ds]=i.title),null)))}(s.route,r,t,e)),Je(()=>o++),Cf(1),Le(s=>o===i.length?N(n):qt))})}(n.paramsInheritanceStrategy,this.environmentInjector),Je({next:()=>l=!0,complete:()=>{l||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Je(a=>{const l=new t2(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Uf(s=>{const a=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(Je(c=>{l.component=c}),se(()=>{})));for(const c of l.children)u.push(...a(c));return u};return _f(a(s.targetSnapshot.root)).pipe(Zl(),$i(1))}),Uf(()=>this.afterPreactivation()),se(s=>{const a=function h2(t,e,n){const r=As(t,e._root,n?n._root:void 0);return new Iw(r,e)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),Je(s=>{n.currentUrlTree=s.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),n.routerState=s.targetRouterState,"deferred"===n.urlUpdateStrategy&&(s.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,s),n.browserUrlTree=s.urlAfterRedirects)}),((t,e,n,r)=>se(i=>(new D2(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),$i(1),Je({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Fr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),wf(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Pr(s=>{if(o=!0,Ow(s)){Pw(s)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new eu(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),Pw(s)){const l=n.urlHandlingStrategy.merge(s.url,n.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||Zw(r.source)};n.scheduleNavigation(l,Ms,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new Af(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(s))}catch(l){r.reject(l)}}return qt}))}))}cancelNavigationTransition(n,r,i){const o=new eu(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Zw(t){return t!==Ms}let qw=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===V);return r}getResolvedTitleForRoute(n){return n.data[Ds]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:function(){return S(cj)},providedIn:"root"}),t})(),cj=(()=>{class t extends qw{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(b(YC))},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),dj=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:function(){return S(fj)},providedIn:"root"}),t})();class hj{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let fj=(()=>{class t extends hj{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=function Lm(t){return yn(()=>{const e=t.prototype.constructor,n=e[vn]||Oc(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[vn]||Oc(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}(t)))(r||t)}}(),t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const lu=new T("",{providedIn:"root",factory:()=>({})});let gj=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:function(){return S(pj)},providedIn:"root"}),t})(),pj=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Ls=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ls||{});function Yw(t,e){t.events.pipe(tr(n=>n instanceof Fr||n instanceof eu||n instanceof Af||n instanceof bs),se(n=>n instanceof Fr||n instanceof bs?Ls.COMPLETE:n instanceof eu&&(0===n.code||1===n.code)?Ls.REDIRECTING:Ls.FAILED),tr(n=>n!==Ls.REDIRECTING),$i(1)).subscribe(()=>{e()})}function mj(t){throw t}function yj(t,e,n){return e.parse("/")}const vj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_j={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bt=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=S(TD),this.isNgZoneEnabled=!1,this.options=S(lu,{optional:!0})||{},this.pendingTasks=S(MD),this.errorHandler=this.options.errorHandler||mj,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||yj,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=S(gj),this.routeReuseStrategy=S(dj),this.titleStrategy=S(qw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=S(Xi,{optional:!0})?.flat()??[],this.navigationTransitions=S(au),this.urlSerializer=S(ws),this.location=S(Wh),this.componentInputBindingEnabled=!!S(nu,{optional:!0}),this.isNgZoneEnabled=S(fe)instanceof fe&&fe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Gi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Sw(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ms,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(kf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s;let d,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...o};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}null!==c&&(c=this.removeEmptyProps(c));try{d=pw(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return mw(d,n,c,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Lr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ms,null,r)}navigate(n,r={skipLocationChange:!1}){return function Ej(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new w(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...vj}:!1===r?{..._j}:r,Lr(n))return sw(this.currentUrlTree,n,i);const o=this.parseUrl(n);return sw(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,l=h});const c=this.pendingTasks.add();return Yw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Kw{}let wj=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(tr(n=>n instanceof Fr),Es(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=uh(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Fe(i).pipe(Zr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):N(null);const o=i.pipe(Le(s=>null===s?N(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?Fe([o,this.loader.loadComponent(r)]).pipe(Zr()):o})}}return t.\u0275fac=function(n){return new(n||t)(b(bt),b(bD),b(wn),b(Kw),b(Hf))},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const $f=new T("");let Xw=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Rf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Fr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof bs&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Cw&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Cw(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function vv(){throw new Error("invalid")}()},t.\u0275prov=A({token:t,factory:t.\u0275fac}),t})();function Pn(t,e){return{\u0275kind:t,\u0275providers:e}}function Jw(){const t=S(Sn);return e=>{const n=t.get(Ui);if(e!==n.components[0])return;const r=t.get(bt),i=t.get(e0);1===t.get(zf)&&r.initialNavigation(),t.get(t0,null,U.Optional)?.setUpPreloading(),t.get($f,null,U.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const e0=new T("",{factory:()=>new pn}),zf=new T("",{providedIn:"root",factory:()=>1}),t0=new T("");function Mj(t){return Pn(0,[{provide:t0,useExisting:wj},{provide:Kw,useExisting:t}])}const n0=new T("ROUTER_FORROOT_GUARD"),Rj=[Wh,{provide:ws,useClass:If},bt,Rs,{provide:Zi,useFactory:function Qw(t){return t.routerState.root},deps:[bt]},Hf,[]];function Aj(){return new VD("Router",bt)}let r0=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Rj,[],{provide:Xi,multi:!0,useValue:n},{provide:n0,useFactory:Oj,deps:[[bt,new Pa,new Oa]]},{provide:lu,useValue:r||{}},r?.useHash?{provide:xr,useClass:LO}:{provide:xr,useClass:fC},{provide:$f,useFactory:()=>{const t=S(rF),e=S(fe),n=S(lu),r=S(au),i=S(ws);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Xw(i,r,t,e,n)}},r?.preloadingStrategy?Mj(r.preloadingStrategy).\u0275providers:[],{provide:VD,multi:!0,useFactory:Aj},r?.initialNavigation?Lj(r):[],r?.bindToComponentInputs?Pn(8,[Aw,{provide:nu,useExisting:Aw}]).\u0275providers:[],[{provide:o0,useFactory:Jw},{provide:Ph,multi:!0,useExisting:o0}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Xi,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(b(n0,8))},t.\u0275mod=yr({type:t}),t.\u0275inj=zn({}),t})();function Oj(t){return"guarded"}function Lj(t){return["disabled"===t.initialNavigation?Pn(3,[{provide:Sh,multi:!0,useFactory:()=>{const e=S(bt);return()=>{e.setUpLocationChangeListener()}}},{provide:zf,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Pn(2,[{provide:zf,useValue:0},{provide:Sh,multi:!0,deps:[Sn],useFactory:e=>{const n=e.get(PO,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(bt),o=e.get(e0);Yw(i,()=>{r(!0)}),e.get(au).afterPreactivation=()=>(r(!0),o.closed?N(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const o0=new T(""),kj=[];let jj=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=yr({type:t}),t.\u0275inj=zn({imports:[r0.forRoot(kj),r0]}),t})();const rr=class Vj{constructor(e){this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},Gf=class Uj{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};function uu(t,e){return t>e?1:t<e?-1:0}function Wf(t,e,n){if(t[0]<=e)return 0;const r=t.length;if(e<=t[r-1])return r-1;if("function"==typeof n){for(let i=1;i<r;++i){const o=t[i];if(o===e)return i;if(o<e)return n(e,t[i-1],o)>0?i-1:i}return r-1}if(n>0){for(let i=1;i<r;++i)if(t[i]<e)return i-1;return r-1}if(n<0){for(let i=1;i<r;++i)if(t[i]<=e)return i;return r-1}for(let i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function cu(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function du(){return!0}function hu(){return!1}function fu(){}function ks(t){for(const e in t)delete t[e]}const Zf=class Gj extends Gf{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const r=this.listeners_||(this.listeners_={}),i=r[e]||(r[e]=[]);i.includes(n)||i.push(n)}dispatchEvent(e){const n="string"==typeof e,r=n?e:e.type,i=this.listeners_&&this.listeners_[r];if(!i)return;const o=n?new rr(e):e;o.target||(o.target=this.eventTarget_||this);const s=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});let l;r in s||(s[r]=0,a[r]=0),++s[r];for(let u=0,c=i.length;u<c;++u)if(l="handleEvent"in i[u]?i[u].handleEvent(o):i[u].call(this,o),!1===l||o.propagationStopped){l=!1;break}if(0==--s[r]){let u=a[r];for(delete a[r];u--;)this.removeEventListener(r,fu);delete s[r]}return l}disposeInternal(){this.listeners_&&ks(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(e,n){const r=this.listeners_&&this.listeners_[e];if(r){const i=r.indexOf(n);-1!==i&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[i]=fu,++this.pendingRemovals_[e]):(r.splice(i,1),0===r.length&&delete this.listeners_[e]))}}};function J(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){const s=n;n=function(){t.removeEventListener(e,n),s.apply(this,arguments)}}const o={target:t,type:e,listener:n};return t.addEventListener(e,n),o}function gu(t,e,n,r){return J(t,e,n,r,!0)}function De(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),ks(t))}const s0=class pu extends Zf{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent("change")}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const r=e.length,i=new Array(r);for(let o=0;o<r;++o)i[o]=J(this,e[o],n);return i}return J(this,e,n)}onceInternal(e,n){let r;if(Array.isArray(e)){const i=e.length;r=new Array(i);for(let o=0;o<i;++o)r[o]=gu(this,e[o],n)}else r=gu(this,e,n);return n.ol_key=r,r}unInternal(e,n){const r=n.ol_key;if(r)!function Wj(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)De(t[e]);else De(t)}(r);else if(Array.isArray(e))for(let i=0,o=e.length;i<o;++i)this.removeEventListener(e[i],n);else this.removeEventListener(e,n)}};function ge(){throw new Error("Unimplemented abstract method.")}let Zj=0;function ut(t){return t.ol_uid||(t.ol_uid=String(++Zj))}class a0 extends rr{constructor(e,n,r){super(e),this.key=n,this.oldValue=r}}const On=class qj extends s0{constructor(e){super(),ut(this),this.values_=null,void 0!==e&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(e,n){let r;r=`change:${e}`,this.hasListener(r)&&this.dispatchEvent(new a0(r,e,n)),r="propertychange",this.hasListener(r)&&this.dispatchEvent(new a0(r,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,r){const i=this.values_||(this.values_={});if(r)i[e]=n;else{const o=i[e];i[e]=n,o!==n&&this.notify(e,o)}}setProperties(e,n){for(const r in e)this.set(r,e[r],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const r=this.values_[e];delete this.values_[e],function zj(t){let e;for(e in t)return!1;return!e}(this.values_)&&(this.values_=null),n||this.notify(e,r)}}},Yj={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class Kj extends Error{constructor(e){const n=Yj[e];super(n),this.code=e,this.name="AssertionError",this.message=n}}const l0=Kj;class mu extends rr{constructor(e,n,r){super(e),this.element=n,this.index=r}}const Ln=class Xj extends On{constructor(e,n){if(super(),this.unique_=!!(n=n||{}).unique,this.array_=e||[],this.unique_)for(let r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,r=e.length;n<r;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)e(n[r],r,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get("length")}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new mu("add",n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)if(n[r]===e)return this.removeAt(r)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new mu("remove",n,e)),n}setAt(e,n){if(e>=this.getLength())return void this.insertAt(e,n);if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const i=this.array_[e];this.array_[e]=n,this.dispatchEvent(new mu("remove",i,e)),this.dispatchEvent(new mu("add",n,e))}updateLength_(){this.set("length",this.array_.length)}assertUnique_(e,n){for(let r=0,i=this.array_.length;r<i;++r)if(this.array_[r]===e&&r!==n)throw new l0(58)}},ir=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Qj=ir.includes("firefox"),Jj=(ir.includes("safari")&&!ir.includes("chrom")&&(ir.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(ir)),ir.includes("webkit")&&!ir.includes("edge")),eV=ir.includes("macintosh"),c0=typeof devicePixelRatio<"u"?devicePixelRatio:1,qf=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,tV=typeof Image<"u"&&Image.prototype.decode,d0=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();function ne(t,e){if(!t)throw new l0(e)}function At(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function Qi(t,e,n,r,i,o,s,a){const l=Math.sin(o),u=Math.cos(o);return t[0]=r*u,t[1]=i*l,t[2]=-r*l,t[3]=i*u,t[4]=s*r*u-a*r*l+e,t[5]=s*i*l+a*i*u+n,t}function Xf(t,e){const n=function nV(t){return t[0]*t[3]-t[1]*t[2]}(e);ne(0!==n,32);const r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5];return t[0]=s/n,t[1]=-i/n,t[2]=-o/n,t[3]=r/n,t[4]=(o*l-s*a)/n,t[5]=-(r*l-i*a)/n,t}let h0;new Array(6);const je={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function g0(t){const e=[1/0,1/0,-1/0,-1/0];for(let n=0,r=t.length;n<r;++n)Vs(e,t[n]);return e}function p0(t,e,n){let r,i;return r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,r*r+i*i}function Qf(t,e){return m0(t,e[0],e[1])}function m0(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function y0(t,e){const s=e[0],a=e[1];let l=je.UNKNOWN;return s<t[0]?l|=je.LEFT:s>t[2]&&(l|=je.RIGHT),a<t[1]?l|=je.BELOW:a>t[3]&&(l|=je.ABOVE),l===je.UNKNOWN&&(l=je.INTERSECTING),l}function Ji(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function Vr(t){return Ji(1/0,1/0,-1/0,-1/0,t)}function Jf(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Vs(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function _0(t,e,n,r,i){for(;n<r;n+=i)cV(t,e[n],e[n+1]);return t}function cV(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function E0(t,e){let n;return n=e(vu(t)),!!(n||(n=e(_u(t)),n)||(n=e(Eu(t)),n)||(n=e(Ur(t)),n))&&n}function yu(t){let e=0;return Du(t)||(e=pe(t)*Gt(t)),e}function vu(t){return[t[0],t[1]]}function _u(t){return[t[2],t[1]]}function eo(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function dV(t,e){let n;return"bottom-left"===e?n=vu(t):"bottom-right"===e?n=_u(t):"top-left"===e?n=Ur(t):"top-right"===e?n=Eu(t):ne(!1,13),n}function eg(t,e,n,r,i){const[o,s,a,l,u,c,d,h]=tg(t,e,n,r);return Ji(Math.min(o,a,u,d),Math.min(s,l,c,h),Math.max(o,a,u,d),Math.max(s,l,c,h),i)}function tg(t,e,n,r){const i=e*r[0]/2,o=e*r[1]/2,s=Math.cos(n),a=Math.sin(n),l=i*s,u=i*a,c=o*s,d=o*a,h=t[0],f=t[1];return[h-l+d,f-u-c,h-l-d,f-u+c,h+l-d,f+u+c,h+l+d,f+u-c,h-l+d,f-u-c]}function Gt(t){return t[3]-t[1]}function to(t,e,n){const r=n||[1/0,1/0,-1/0,-1/0];return Us(t,e)?(r[0]=t[0]>e[0]?t[0]:e[0],r[1]=t[1]>e[1]?t[1]:e[1],r[2]=t[2]<e[2]?t[2]:e[2],r[3]=t[3]<e[3]?t[3]:e[3]):Vr(r),r}function Ur(t){return[t[0],t[3]]}function Eu(t){return[t[2],t[3]]}function pe(t){return t[2]-t[0]}function Us(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Du(t){return t[2]<t[0]||t[3]<t[1]}function Oe(t,e,n){return Math.min(Math.max(t,e),n)}function mV(t,e,n,r,i,o){const s=i-n,a=o-r;if(0!==s||0!==a){const l=((t-n)*s+(e-r)*a)/(s*s+a*a);l>1?(n=i,r=o):l>0&&(n+=s*l,r+=a*l)}return no(t,e,n,r)}function no(t,e,n,r){const i=n-t,o=r-e;return i*i+o*o}function Cu(t){return t*Math.PI/180}function ro(t,e){const n=t%e;return n*e<0?n+e:n}function vV(t,e,n){return t+n*(e-t)}function ng(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function wu(t,e){return Math.floor(ng(t,e))}function Iu(t,e){return Math.ceil(ng(t,e))}const D0=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,C0=/^([a-z]*)$|^hsla?\(.*\)$/i;const EV=function(){const e={};let n=0;return function(r){let i;if(e.hasOwnProperty(r))i=e[r];else{if(n>=1024){let o=0;for(const s in e)3&o++||(delete e[s],--n)}i=function DV(t){let e,n,r,i,o;if(C0.exec(t)&&(t=function w0(t){const e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);const n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),D0.exec(t)){const s=t.length-1;let a;a=s<=4?1:2;const l=4===s||8===s;e=parseInt(t.substr(1+0*a,a),16),n=parseInt(t.substr(1+1*a,a),16),r=parseInt(t.substr(1+2*a,a),16),i=l?parseInt(t.substr(1+3*a,a),16):255,1==a&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,l&&(i=(i<<4)+i)),o=[e,n,r,i/255]}else t.startsWith("rgba(")?(o=t.slice(5,-1).split(",").map(Number),S0(o)):t.startsWith("rgb(")?(o=t.slice(4,-1).split(",").map(Number),o.push(1),S0(o)):ne(!1,14);return o}(r),e[r]=i,++n}return i}}();function I0(t){return Array.isArray(t)?t:EV(t)}function S0(t){return t[0]=Oe(t[0]+.5|0,0,255),t[1]=Oe(t[1]+.5|0,0,255),t[2]=Oe(t[2]+.5|0,0,255),t[3]=Oe(t[3],0,1),t}function T0(t,e,n){return e+":"+t+":"+(n?function _V(t){return"string"==typeof t?t:function CV(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let n=t[1];n!=(0|n)&&(n=n+.5|0);let r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:Math.round(100*t[3])/100)+")"}(t)}(n):"null")}const M0=new class wV{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_)!(3&e++)&&!this.cache_[n].hasListener()&&(delete this.cache_[n],--this.cacheSize_)}}get(e,n,r){const i=T0(e,n,r);return i in this.cache_?this.cache_[i]:null}set(e,n,r,i){const o=T0(e,n,r);this.cache_[o]=i,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}},b0=class IV extends On{constructor(e){super(),this.background_=e.background;const n=Object.assign({},e);"object"==typeof e.properties&&(delete n.properties,Object.assign(n,e.properties)),n.opacity=void 0!==e.opacity?e.opacity:1,ne("number"==typeof n.opacity,64),n.visible=void 0===e.visible||e.visible,n.zIndex=e.zIndex,n.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,n.minResolution=void 0!==e.minResolution?e.minResolution:0,n.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,n.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,this.className_=void 0!==n.className?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:void 0===e||e},r=this.getZIndex();return n.opacity=Oe(Math.round(100*this.getOpacity())/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=void 0!==r||n.managed?r:1/0,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return ge()}getLayerStatesArray(e){return ge()}getExtent(){return this.get("extent")}getMaxResolution(){return this.get("maxResolution")}getMinResolution(){return this.get("minResolution")}getMinZoom(){return this.get("minZoom")}getMaxZoom(){return this.get("maxZoom")}getOpacity(){return this.get("opacity")}getSourceState(){return ge()}getVisible(){return this.get("visible")}getZIndex(){return this.get("zIndex")}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set("extent",e)}setMaxResolution(e){this.set("maxResolution",e)}setMinResolution(e){this.set("minResolution",e)}setMaxZoom(e){this.set("maxZoom",e)}setMinZoom(e){this.set("minZoom",e)}setOpacity(e){ne("number"==typeof e,64),this.set("opacity",e)}setVisible(e){this.set("visible",e)}setZIndex(e){this.set("zIndex",e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},Wt={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},SV=42,rg=256,Hs={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},R0=class MV{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Hs[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},Bs=6378137,io=Math.PI*Bs,bV=[-io,-io,io,io],RV=[-180,-85,180,85],Su=Bs*Math.log(Math.tan(Math.PI/2));class oo extends R0{constructor(e){super({code:e,units:"m",extent:bV,global:!0,worldExtent:RV,getPointResolution:function(n,r){return n/Math.cosh(r[1]/Bs)}})}}const A0=[new oo("EPSG:3857"),new oo("EPSG:102100"),new oo("EPSG:102113"),new oo("EPSG:900913"),new oo("http://www.opengis.net/def/crs/EPSG/0/3857"),new oo("http://www.opengis.net/gml/srs/epsg.xml#3857")];function AV(t,e,n){const r=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(r));for(let i=0;i<r;i+=n){e[i]=io*t[i]/180;let o=Bs*Math.log(Math.tan(Math.PI*(+t[i+1]+90)/360));o>Su?o=Su:o<-Su&&(o=-Su),e[i+1]=o}return e}function xV(t,e,n){const r=t.length;n=n>1?n:2,void 0===e&&(e=n>2?t.slice():new Array(r));for(let i=0;i<r;i+=n)e[i]=180*t[i]/io,e[i+1]=360*Math.atan(Math.exp(t[i+1]/Bs))/Math.PI-90;return e}const x0=[-180,-90,180,90],PV=6378137*Math.PI/180;class Hr extends R0{constructor(e,n){super({code:e,units:"degrees",extent:x0,axisOrientation:n,global:!0,metersPerUnit:PV,worldExtent:x0})}}const N0=[new Hr("CRS:84"),new Hr("EPSG:4326","neu"),new Hr("urn:ogc:def:crs:OGC:1.3:CRS84"),new Hr("urn:ogc:def:crs:OGC:2:84"),new Hr("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Hr("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Hr("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Tu={},Zt={};function Mu(t,e,n){const r=t.getCode(),i=e.getCode();r in Zt||(Zt[r]={}),Zt[r][i]=n}function bu(t,e){let n=!0;for(let r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function ig(t,e){const n=Math.cos(e),r=Math.sin(e),o=t[1]*n+t[0]*r;return t[0]=t[0]*n-t[1]*r,t[1]=o,t}const Ru=6371008.8;function og(t,e,n){n=n||Ru;const r=Cu(t[1]),i=Cu(e[1]),o=(i-r)/2,s=Cu(e[0]-t[0])/2,a=Math.sin(o)*Math.sin(o)+Math.sin(s)*Math.sin(s)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}const $s={info:1,warn:2,error:3,none:4};let xu=$s.info;function L0(...t){xu>$s.warn||console.warn(...t)}let ag=!0;function lg(t,e){if(void 0!==e)for(let n=0,r=t.length;n<r;++n)e[n]=t[n];else e=t.slice();return e}function k0(t,e){if(void 0!==e&&t!==e){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];t=e}return t}function WV(t){(function LV(t,e){Tu[t]=e})(t.getCode(),t),Mu(t,t,lg)}function ze(t){return"string"==typeof t?function OV(t){return Tu[t]||Tu[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(t):t||null}function j0(t,e,n,r){let i;const o=(t=ze(t)).getPointResolutionFunc();if(o){if(i=o(e,n),r&&r!==t.getUnits()){const s=t.getMetersPerUnit();s&&(i=i*s/Hs[r])}}else{const s=t.getUnits();if("degrees"==s&&!r||"degrees"==r)i=e;else{const a=Nu(t,ze("EPSG:4326"));if(a===k0&&"degrees"!==s)i=e*t.getMetersPerUnit();else{let u=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];u=a(u,u,2),i=(og(u.slice(0,2),u.slice(2,4))+og(u.slice(4,6),u.slice(6,8)))/2}const l=r?Hs[r]:t.getMetersPerUnit();void 0!==l&&(i/=l)}}return i}function V0(t){(function ZV(t){t.forEach(WV)})(t),t.forEach(function(e){t.forEach(function(n){e!==n&&Mu(e,n,lg)})})}function ug(t,e){return t?"string"==typeof t?ze(t):t:ze(e)}function so(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||Nu(t,e)===lg)&&n}function Nu(t,e){let i=function FV(t,e){let n;return t in Zt&&e in Zt[t]&&(n=Zt[t][e]),n}(t.getCode(),e.getCode());return i||(i=k0),i}function zs(t,e){return Nu(ze(t),ze(e))}function Gs(t,e,n){return zs(e,n)(t,void 0,t.length)}let et=null;function cg(t,e){return t}function Fn(t,e){return ag&&!bu(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(ag=!1,L0("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function ao(t,e){return t}function B0(t,e,n){return function(r,i,o,s,a){if(!r)return;if(!i&&!e)return r;const l=e?0:o[0]*i,u=e?0:o[1]*i,c=a?a[0]:0,d=a?a[1]:0;let h=t[0]+l/2+c,f=t[2]-l/2+c,g=t[1]+u/2+d,p=t[3]-u/2+d;h>f&&(h=(f+h)/2,f=h),g>p&&(g=(p+g)/2,p=g);let y=Oe(r[0],h,f),v=Oe(r[1],g,p);if(s&&n&&i){const m=30*i;y+=-m*Math.log(1+Math.max(0,h-r[0])/m)+m*Math.log(1+Math.max(0,r[0]-f)/m),v+=-m*Math.log(1+Math.max(0,g-r[1])/m)+m*Math.log(1+Math.max(0,r[1]-p)/m)}return[y,v]}}function JV(t){return t}function dg(t,e,n,r){const i=pe(e)/n[0],o=Gt(e)/n[1];return r?Math.min(t,Math.max(i,o)):Math.min(t,Math.min(i,o))}function hg(t,e,n){let r=Math.min(t,e);return r*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/t-1))/50+1),Oe(r,n/2,2*e)}function $0(t,e,n,r,i){return n=void 0===n||n,function(o,s,a,l){if(void 0!==o){const u=r?dg(t,r,a,i):t;return n&&l?hg(o,u,e):Oe(o,e,u)}}}function fg(t){if(void 0!==t)return 0}function z0(t){if(void 0!==t)return t}function G0(t){return Math.pow(t,3)}function lo(t){return 1-G0(1-t)}function gg(t){return 3*t*t-2*t*t*t}function iU(t){return t}!function QV(){V0(A0),V0(N0),function qV(t,e,n,r){t.forEach(function(i){e.forEach(function(o){Mu(i,o,n),Mu(o,i,r)})})}(N0,A0,AV,xV)}();const W0=[1,0,0,1,0,0],cU=class uU extends On{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=function $j(t){let n,r,i,e=!1;return function(){const o=Array.prototype.slice.call(arguments);return(!e||this!==i||!cu(o,r))&&(e=!0,i=this,r=o,n=t.apply(this,arguments)),n}}(function(e,n,r){if(!r)return this.getSimplifiedGeometry(n);const i=this.clone();return i.applyTransform(r),i.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return ge()}closestPointXY(e,n,r,i){return ge()}containsXY(e,n){const r=this.getClosestPoint([e,n]);return r[0]===e&&r[1]===n}getClosestPoint(e,n){return this.closestPointXY(e[0],e[1],n=n||[NaN,NaN],1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return ge()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&Vr(n),this.extentRevision_=this.getRevision()}return function hV(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,e)}rotate(e,n){ge()}scale(e,n,r){ge()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return ge()}getType(){return ge()}applyTransform(e){ge()}intersectsExtent(e){return ge()}translate(e,n){ge()}transform(e,n){const r=ze(e),i="tile-pixels"==r.getUnits()?function(o,s,a){const l=r.getExtent(),u=r.getWorldExtent(),c=Gt(u)/Gt(l);return Qi(W0,u[0],u[3],c,-c,0,0,0),function oU(t,e,n,r,i,o){o=o||[];let s=0;for(let a=e;a<n;a+=r){const l=t[a],u=t[a+1];o[s++]=i[0]*l+i[2]*u+i[4],o[s++]=i[1]*l+i[3]*u+i[5]}o&&o.length!=s&&(o.length=s)}(o,0,o.length,a,W0,s),zs(r,n)(o,s,a)}:zs(r,n);return this.applyTransform(i),this}};function Z0(t){let e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}const pg=class dU extends cU{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(e){return function aV(t,e,n,r,i){return _0(Vr(i),t,e,n,r)}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return ge()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=Z0(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){ge()}setLayout(e,n,r){let i;if(e)i=Z0(e);else{for(let o=0;o<r;++o){if(0===n.length)return this.layout="XY",void(this.stride=2);n=n[0]}i=n.length,e=function hU(t){let e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}(i)}this.layout=e,this.stride=i}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();(function sU(t,e,n,r,i,o,s){s=s||[];const a=Math.cos(i),l=Math.sin(i),u=o[0],c=o[1];let d=0;for(let h=e;h<n;h+=r){const f=t[h]-u,g=t[h+1]-c;s[d++]=u+f*a-g*l,s[d++]=c+f*l+g*a;for(let p=h+2;p<h+r;++p)s[d++]=t[p]}s&&s.length!=d&&(s.length=d)})(r,0,r.length,i,e,n,r),this.changed()}}scale(e,n,r){void 0===n&&(n=e),r||(r=eo(this.getExtent()));const i=this.getFlatCoordinates();if(i){const o=this.getStride();(function aU(t,e,n,r,i,o,s,a){a=a||[];const l=s[0],u=s[1];let c=0;for(let d=e;d<n;d+=r){const f=t[d+1]-u;a[c++]=l+i*(t[d]-l),a[c++]=u+o*f;for(let g=d+2;g<d+r;++g)a[c++]=t[g]}a&&a.length!=c&&(a.length=c)})(i,0,i.length,o,e,n,r,i),this.changed()}}translate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();(function lU(t,e,n,r,i,o,s){s=s||[];let a=0;for(let l=e;l<n;l+=r){s[a++]=t[l]+i,s[a++]=t[l+1]+o;for(let u=l+2;u<l+r;++u)s[a++]=t[u]}s&&s.length!=a&&(s.length=a)})(r,0,r.length,i,e,n,r),this.changed()}}};function q0(t,e,n,r,i,o,s){const a=t[e],l=t[e+1],u=t[n]-a,c=t[n+1]-l;let d;if(0===u&&0===c)d=e;else{const h=((i-a)*u+(o-l)*c)/(u*u+c*c);if(h>1)d=n;else{if(h>0){for(let f=0;f<r;++f)s[f]=vV(t[e+f],t[n+f],h);return void(s.length=r)}d=e}}for(let h=0;h<r;++h)s[h]=t[d+h];s.length=r}function Y0(t,e,n,r,i){let o=t[e],s=t[e+1];for(e+=r;e<n;e+=r){const a=t[e],l=t[e+1],u=no(o,s,a,l);u>i&&(i=u),o=a,s=l}return i}function X0(t,e,n,r,i,o,s,a,l,u,c){if(e==n)return u;let d,h;if(0===i){if(h=no(s,a,t[e],t[e+1]),h<u){for(d=0;d<r;++d)l[d]=t[e+d];return l.length=r,h}return u}c=c||[NaN,NaN];let f=e+r;for(;f<n;)if(q0(t,f-r,f,r,s,a,c),h=no(s,a,c[0],c[1]),h<u){for(u=h,d=0;d<r;++d)l[d]=c[d];l.length=r,f+=r}else f+=r*Math.max((Math.sqrt(h)-Math.sqrt(u))/i|0,1);if(o&&(q0(t,n-r,e,r,s,a,c),h=no(s,a,c[0],c[1]),h<u)){for(u=h,d=0;d<r;++d)l[d]=c[d];l.length=r}return u}function J0(t,e,n,r){for(let i=0,o=n.length;i<o;++i){const s=n[i];for(let a=0;a<r;++a)t[e++]=s[a]}return e}function uo(t,e){return e*Math.round(t/e)}function mU(t,e,n,r,i,o,s){if(e==n)return s;let u,c,a=uo(t[e],i),l=uo(t[e+1],i);e+=r,o[s++]=a,o[s++]=l;do{if(u=uo(t[e],i),c=uo(t[e+1],i),(e+=r)==n)return o[s++]=u,o[s++]=c,s}while(u==a&&c==l);for(;e<n;){const d=uo(t[e],i),h=uo(t[e+1],i);if(e+=r,d==u&&h==c)continue;const f=u-a,g=c-l,p=d-a,y=h-l;f*y==g*p&&(f<0&&p<f||f==p||f>0&&p>f)&&(g<0&&y<g||g==y||g>0&&y>g)?(u=d,c=h):(o[s++]=u,o[s++]=c,a=u,l=c,u=d,c=h)}return o[s++]=u,o[s++]=c,s}function nI(t,e,n,r,i){i=void 0!==i?i:[];let o=0;for(let s=e;s<n;s+=r)i[o++]=t.slice(s,s+r);return i.length=o,i}function iI(t,e,n,r){let i=0,o=t[n-r],s=t[n-r+1];for(;e<n;e+=r){const a=t[e],l=t[e+1];i+=s*a-o*l,o=a,s=l}return i/2}class Pu extends pg{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}clone(){return new Pu(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,r,i){return i<p0(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Y0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),X0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,r,i))}getArea(){return iI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return nI(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=function mg(t,e,n,r,i,o,s){const a=(n-e)/r;if(a<3){for(;e<n;e+=r)o[s++]=t[e],o[s++]=t[e+1];return s}const l=new Array(a);l[0]=1,l[a-1]=1;const u=[e,n-r];let c=0;for(;u.length>0;){const d=u.pop(),h=u.pop();let f=0;const g=t[h],p=t[h+1],y=t[d],v=t[d+1];for(let m=h+r;m<d;m+=r){const C=mV(t[m],t[m+1],g,p,y,v);C>f&&(c=m,f=C)}f>i&&(l[(c-e)/r]=1,h+r<c&&u.push(h,c),c+r<d&&u.push(c,d))}for(let d=0;d<a;++d)l[d]&&(o[s++]=t[e+d*r],o[s++]=t[e+d*r+1]);return s}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Pu(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=J0(this.flatCoordinates,0,e,this.stride),this.changed()}}const sI=Pu;class yg extends pg{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new yg(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){const o=this.flatCoordinates,s=no(e,n,o[0],o[1]);if(s<i){const a=this.stride;for(let l=0;l<a;++l)r[l]=o[l];return r.length=a,s}return i}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(e){return function sV(t,e){const n=t[0],r=t[1];return Ji(n,r,n,r,e)}(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return m0(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function fU(t,e,n,r){for(let i=0,o=n.length;i<o;++i)t[e++]=n[i];return e}(this.flatCoordinates,0,e),this.changed()}}const yU=yg;function vU(t,e,n,r,i){return!E0(i,function(s){return!Br(t,e,n,r,s[0],s[1])})}function Br(t,e,n,r,i,o){let s=0,a=t[n-r],l=t[n-r+1];for(;e<n;e+=r){const u=t[e],c=t[e+1];l<=o?c>o&&(u-a)*(o-l)-(i-a)*(c-l)>0&&s++:c<=o&&(u-a)*(o-l)-(i-a)*(c-l)<0&&s--,a=u,l=c}return 0!==s}function vg(t,e,n,r,i,o){if(0===n.length||!Br(t,e,n[0],r,i,o))return!1;for(let s=1,a=n.length;s<a;++s)if(Br(t,n[s-1],n[s],r,i,o))return!1;return!0}function _g(t,e,n,r,i){const o=_0([1/0,1/0,-1/0,-1/0],t,e,n,r);return!!Us(i,o)&&(!!(function oV(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3])||function _U(t,e,n,r,i){let o;for(e+=r;e<n;e+=r)if(o=i(t.slice(e-r,e),t.slice(e,e+r)),o)return o;return!1}(t,e,n,r,function(s,a){return function fV(t,e,n){let r=!1;const i=y0(t,e),o=y0(t,n);if(i===je.INTERSECTING||o===je.INTERSECTING)r=!0;else{const s=t[0],a=t[1],l=t[2],u=t[3],h=n[0],f=n[1],g=(f-e[1])/(h-e[0]);let p,y;o&je.ABOVE&&!(i&je.ABOVE)&&(p=h-(f-u)/g,r=p>=s&&p<=l),!r&&o&je.RIGHT&&!(i&je.RIGHT)&&(y=f-(h-l)*g,r=y>=a&&y<=u),!r&&o&je.BELOW&&!(i&je.BELOW)&&(p=h-(f-a)/g,r=p>=s&&p<=l),!r&&o&je.LEFT&&!(i&je.LEFT)&&(y=f-(h-s)*g,r=y>=a&&y<=u)}return r}(i,s,a)}))}function lI(t,e,n,r,i){return!!(_g(t,e,n,r,i)||Br(t,e,n,r,i[0],i[1])||Br(t,e,n,r,i[0],i[3])||Br(t,e,n,r,i[2],i[1])||Br(t,e,n,r,i[2],i[3]))}function EU(t,e,n,r){for(;e<n-r;){for(let i=0;i<r;++i){const o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}function Eg(t,e,n,r){let i=0,o=t[n-r],s=t[n-r+1];for(;e<n;e+=r){const a=t[e],l=t[e+1];i+=(a-o)*(l+s),o=a,s=l}return 0===i?void 0:i>0}function Dg(t,e,n,r,i){i=void 0!==i&&i;for(let o=0,s=n.length;o<s;++o){const a=n[o],l=Eg(t,e,a,r);(0===o?i&&l||!i&&!l:i&&!l||!i&&l)&&EU(t,e,a,r),e=a}return e}class $r extends pg{constructor(e,n,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==n&&r?(this.setFlatCoordinates(n,e),this.ends_=r):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?function Hj(t,e){const n=Array.isArray(e)?e:[e],r=n.length;for(let i=0;i<r;i++)t[t.length]=n[i]}(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new $r(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<p0(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function K0(t,e,n,r,i){for(let o=0,s=n.length;o<s;++o){const a=n[o];i=Y0(t,e,a,r,i),e=a}return i}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function Q0(t,e,n,r,i,o,s,a,l,u,c){c=c||[NaN,NaN];for(let d=0,h=n.length;d<h;++d){const f=n[d];u=X0(t,e,f,r,i,o,s,a,l,u,c),e=f}return u}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return vg(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return function oI(t,e,n,r){let i=0;for(let o=0,s=n.length;o<s;++o){const a=n[o];i+=iI(t,e,a,r),e=a}return i}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return void 0!==e?(n=this.getOrientedFlatCoordinates().slice(),Dg(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,function rI(t,e,n,r,i){i=void 0!==i?i:[];let o=0;for(let s=0,a=n.length;s<a;++s){const l=n[s];i[o++]=nI(t,e,l,r,i[o]),e=l}return i.length=o,i}(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=eo(this.getExtent());this.flatInteriorPoint_=function aI(t,e,n,r,i,o,s){let a,l,u,c,d,h,f;const g=i[o+1],p=[];for(let m=0,E=n.length;m<E;++m){const _=n[m];for(c=t[_-r],h=t[_-r+1],a=e;a<_;a+=r)d=t[a],f=t[a+1],(g<=h&&f<=g||h<=g&&g<=f)&&(u=(g-h)/(f-h)*(d-c)+c,p.push(u)),c=d,h=f}let y=NaN,v=-1/0;for(p.sort(uu),c=p[0],a=1,l=p.length;a<l;++a){d=p[a];const m=Math.abs(d-c);m>v&&(u=(c+d)/2,vg(t,e,n,r,u,g)&&(y=u,v=m)),c=d}return isNaN(y)&&(y=i[o]),s?(s.push(y,g,v),s):[y,g,v]}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new yU(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new sI(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,r=this.ends_,i=[];let o=0;for(let s=0,a=r.length;s<a;++s){const l=r[s],u=new sI(n.slice(o,l),e);i.push(u),o=l}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;!function cI(t,e,n,r,i){i=void 0!==i&&i;for(let o=0,s=n.length;o<s;++o){const a=n[o],l=Eg(t,e,a,r);if(0===o){if(i&&l||!i&&!l)return!1}else if(i&&!l||!i&&l)return!1;e=a}return!0}(e,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Dg(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=e,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=function tI(t,e,n,r,i,o,s,a){for(let l=0,u=n.length;l<u;++l){const c=n[l];s=mU(t,e,c,r,i,o,s),a.push(s),e=c}return s}(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,r),new $r(n,"XY",r)}getType(){return"Polygon"}intersectsExtent(e){return function uI(t,e,n,r,i){if(!lI(t,e,n[0],r,i))return!1;if(1===n.length)return!0;for(let o=1,s=n.length;o<s;++o)if(vU(t,n[o-1],n[o],r,i)&&!_g(t,n[o-1],n[o],r,i))return!1;return!0}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=function eI(t,e,n,r,i){i=i||[];let o=0;for(let s=0,a=n.length;s<a;++s){const l=J0(t,e,n[s],r);i[o++]=l,e=l}return i.length=o,i}(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()}}const DU=$r;function dI(t){const e=t[0],n=t[1],r=t[2],i=t[3],o=[e,n,e,i,r,i,r,n,e,n];return new $r(o,"XY",[o.length])}function Ou(t,e){setTimeout(function(){t(e)},0)}function wg(t,e,n,r,i){const o=Math.cos(-i);let s=Math.sin(-i),a=t[0]*o-t[1]*s,l=t[1]*o+t[0]*s;return a+=(e[0]/2-n[0])*r,l+=(n[1]-e[1]/2)*r,s=-s,[a*o-l*s,l*o+a*s]}const cn=class wU extends On{constructor(e){super(),e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.projection_=ug(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.nextCenter_=null,this.cancelAnchor_=void 0,e.projection&&function F0(t){ag=!(void 0===t||t)}(),e.center&&(e.center=Fn(e.center)),e.extent&&(e.extent=ao(e.extent)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const a in Wt)delete n[a];this.setProperties(n,!0);const r=function SU(t){let e,n,r,s=void 0!==t.minZoom?t.minZoom:0,a=void 0!==t.maxZoom?t.maxZoom:28;const l=void 0!==t.zoomFactor?t.zoomFactor:2,u=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,d=void 0!==t.showFullExtent&&t.showFullExtent,h=ug(t.projection,"EPSG:3857"),f=h.getExtent();let g=t.constrainOnlyCenter,p=t.extent;if(!u&&!p&&h.isGlobal()&&(g=!1,p=f),void 0!==t.resolutions){const y=t.resolutions;n=y[s],r=void 0!==y[a]?y[a]:y[y.length-1],e=t.constrainResolution?function eU(t,e,n,r){return e=void 0===e||e,function(i,o,s,a){if(void 0!==i){const l=t[0],u=t[t.length-1],c=n?dg(l,n,s,r):l;if(a)return e?hg(i,c,u):Oe(i,u,c);const d=Math.min(c,i),h=Math.floor(Wf(t,d,o));return t[h]>c&&h<t.length-1?t[h+1]:t[h]}}}(y,c,!g&&p,d):$0(n,r,c,!g&&p,d)}else{const v=(f?Math.max(pe(f),Gt(f)):360*Hs.degrees/h.getMetersPerUnit())/rg/Math.pow(2,0),m=v/Math.pow(2,28);n=t.maxResolution,void 0!==n?s=0:n=v/Math.pow(l,s),r=t.minResolution,void 0===r&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(l,a):v/Math.pow(l,a):m),a=s+Math.floor(Math.log(n/r)/Math.log(l)),r=n/Math.pow(l,a-s),e=t.constrainResolution?function tU(t,e,n,r,i,o){return r=void 0===r||r,n=void 0!==n?n:0,function(s,a,l,u){if(void 0!==s){const c=i?dg(e,i,l,o):e;if(u)return r?hg(s,c,n):Oe(s,n,c);const d=1e-9,h=Math.ceil(Math.log(e/c)/Math.log(t)-d),f=-a*(.5-d)+.5,g=Math.min(c,s),p=Math.floor(Math.log(e/g)/Math.log(t)+f),y=Math.max(h,p);return Oe(e/Math.pow(t,y),n,c)}}}(l,n,r,c,!g&&p,d):$0(n,r,c,!g&&p,d)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:s,zoomFactor:l}}(e);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom;const i=function IU(t){if(void 0!==t.extent)return B0(t.extent,t.constrainOnlyCenter,void 0===t.smoothExtentConstraint||t.smoothExtentConstraint);const e=ug(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,B0(n,!1,!1)}return JV}(e),o=r.constraint,s=function TU(t){if(void 0===t.enableRotation||t.enableRotation){const n=t.constrainRotation;return void 0===n||!0===n?function rU(t){return t=t||Cu(5),function(e,n){return n?e:void 0!==e?Math.abs(e)<=t?0:e:void 0}}():!1===n?z0:"number"==typeof n?function nU(t){const e=2*Math.PI/t;return function(n,r){return r?n:void 0!==n?n=Math.floor(n/e+.5)*e:void 0}}(n):z0}return fg}(e);this.constraints_={center:i,resolution:o,rotation:s},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const r=this.getCenterInternal();if(r){const i=e||[0,0,0,0];n=n||[0,0,0,0];const o=this.getResolution();this.setCenterInternal([r[0]+o/2*(i[3]-n[3]+n[1]-i[1]),r[1]-o/2*(i[0]-n[0]+n[2]-i[2])])}}getUpdatedOptions_(e){const n=this.getProperties();return void 0!==n.resolution?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let r=0;r<n.length;++r){let i=arguments[r];i.center&&(i=Object.assign({},i),i.center=Fn(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=Fn(i.anchor,this.getProjection())),n[r]=i}this.animateInternal.apply(this,n)}animateInternal(e){let r,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(r=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const c=arguments[i];c.center&&this.setCenterInternal(c.center),void 0!==c.zoom?this.setZoom(c.zoom):c.resolution&&this.setResolution(c.resolution),void 0!==c.rotation&&this.setRotation(c.rotation)}if(i===n)return void(r&&Ou(r,!0));let o=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const u=[];for(;i<n;++i){const c=arguments[i],d={start:o,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||gg,callback:r};if(c.center&&(d.sourceCenter=s,d.targetCenter=c.center.slice(),s=d.targetCenter),void 0!==c.zoom?(d.sourceResolution=a,d.targetResolution=this.getResolutionForZoom(c.zoom),a=d.targetResolution):c.resolution&&(d.sourceResolution=a,d.targetResolution=c.resolution,a=d.targetResolution),void 0!==c.rotation){d.sourceRotation=l;const h=ro(c.rotation-l+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=l+h,l=d.targetRotation}(t=d).sourceCenter&&t.targetCenter&&!bu(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation?o+=d.duration:d.complete=!0,u.push(d)}var t;this.animations_.push(u),this.setHint(0,1),this.updateAnimations_()}getAnimating(){return this.hints_[0]>0}getInteracting(){return this.hints_[1]>0}cancelAnimations(){let e;this.setHint(0,-this.hints_[0]);for(let n=0,r=this.animations_.length;n<r;++n){const i=this.animations_[n];if(i[0].callback&&Ou(i[0].callback,!1),!e)for(let o=0,s=i.length;o<s;++o){const a=i[o];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let r=this.animations_.length-1;r>=0;--r){const i=this.animations_[r];let o=!0;for(let s=0,a=i.length;s<a;++s){const l=i[s];if(l.complete)continue;let c=l.duration>0?(e-l.start)/l.duration:1;c>=1?(l.complete=!0,c=1):o=!1;const d=l.easing(c);if(l.sourceCenter){const h=l.sourceCenter[0],f=l.sourceCenter[1],g=l.targetCenter[0],p=l.targetCenter[1];this.nextCenter_=l.targetCenter,this.targetCenter_=[h+d*(g-h),f+d*(p-f)]}if(l.sourceResolution&&l.targetResolution){const h=1===d?l.targetResolution:l.sourceResolution+d*(l.targetResolution-l.sourceResolution);if(l.anchor){const f=this.getViewportSize_(this.getRotation()),g=this.constraints_.resolution(h,0,f,!0);this.targetCenter_=this.calculateCenterZoom(g,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=h,this.applyTargetState_(!0)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){const h=1===d?ro(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+d*(l.targetRotation-l.sourceRotation);if(l.anchor){const f=this.constraints_.rotation(h,!0);this.targetCenter_=this.calculateCenterRotate(f,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=h}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(o){this.animations_[r]=null,this.setHint(0,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const s=i[0].callback;s&&Ou(s,!0)}}this.animations_=this.animations_.filter(Boolean),n&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let r;const i=this.getCenterInternal();return void 0!==i&&(r=[i[0]-n[0],i[1]-n[1]],ig(r,e-this.getRotation()),function kV(t,e){t[0]+=+e[0],t[1]+=+e[1]}(r,n)),r}calculateCenterZoom(e,n){let r;const i=this.getCenterInternal(),o=this.getResolution();return void 0!==i&&void 0!==o&&(r=[n[0]-e*(n[0]-i[0])/o,n[1]-e*(n[1]-i[1])/o]),r}getViewportSize_(e){const n=this.viewportSize_;if(e){const r=n[0],i=n[1];return[Math.abs(r*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(r*Math.sin(e))+Math.abs(i*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&cg(e,this.getProjection())}getCenterInternal(){return this.get(Wt.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){return function XV(t,e){return t}(this.calculateExtentInternal(e),this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();ne(n,1);const r=this.getResolution();ne(void 0!==r,2);const i=this.getRotation();return ne(void 0!==i,3),eg(n,r,i,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Wt.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(ao(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const r=pe(e)/n[0],i=Gt(e)/n[1];return Math.max(r,i)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),i=Math.log(n/this.minResolution_)/Math.log(e);return function(o){return n/Math.pow(e,o*i)}}getRotation(){return this.get(Wt.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),r=this.getConstrainedResolution(this.maxResolution_),o=Math.log(r/this.minResolution_)/n;return function(s){return Math.log(r/s)/n/o}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const r=this.padding_;return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),r=this.getRotation();let i=this.getCenterInternal();const o=this.padding_;if(o){const s=this.getViewportSizeMinusPadding_();i=wg(i,this.getViewportSize_(),[s[0]/2+o[3],s[1]/2+o[0]],n,r)}return{center:i.slice(0),projection:void 0!==e?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return void 0!==n&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let r,i,n=this.minZoom_||0;if(this.resolutions_){const o=Wf(this.resolutions_,e,1);n=o,r=this.resolutions_[o],i=o==this.resolutions_.length-1?2:r/this.resolutions_[o+1]}else r=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(r/e)/Math.log(i)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=Oe(Math.floor(e),0,this.resolutions_.length-2);return this.resolutions_[n]/Math.pow(this.resolutions_[n]/this.resolutions_[n+1],Oe(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let r;if(ne(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e))ne(!Du(e),25),r=dI(ao(e,this.getProjection()));else if("Circle"===e.getType()){const i=ao(e.getExtent(),this.getProjection());r=dI(i),r.rotate(this.getRotation(),eo(i))}else{const i=function KV(){return et}();r=i?e.clone().transform(i,this.getProjection()):e}this.fitInternal(r,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),r=Math.cos(n),i=Math.sin(-n),o=e.getFlatCoordinates(),s=e.getStride();let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let d=0,h=o.length;d<h;d+=s){const f=o[d]*r-o[d+1]*i,g=o[d]*i+o[d+1]*r;a=Math.min(a,f),l=Math.min(l,g),u=Math.max(u,f),c=Math.max(c,g)}return[a,l,u,c]}fitInternal(e,n){let r=(n=n||{}).size;r||(r=this.getViewportSizeMinusPadding_());const i=void 0!==n.padding?n.padding:[0,0,0,0],o=void 0!==n.nearest&&n.nearest;let s;s=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;const a=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(a,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);l=isNaN(l)?s:Math.max(l,s),l=this.getConstrainedResolution(l,o?0:1);const u=this.getRotation(),c=Math.sin(u),d=Math.cos(u),h=eo(a);h[0]+=(i[1]-i[3])/2*l,h[1]+=(i[0]-i[2])/2*l;const p=this.getConstrainedCenter([h[0]*d-h[1]*c,h[1]*d+h[0]*c],l),y=n.callback?n.callback:fu;void 0!==n.duration?this.animateInternal({resolution:l,center:p,duration:n.duration,easing:n.easing},y):(this.targetResolution_=l,this.targetCenter_=p,this.applyTargetState_(!1,!0),Ou(y,!0))}centerOn(e,n,r){this.centerOnInternal(Fn(e,this.getProjection()),n,r)}centerOnInternal(e,n,r){this.setCenterInternal(wg(e,n,r,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,r,i){let o;const s=this.padding_;if(s&&e){const a=this.getViewportSizeMinusPadding_(-r),l=wg(e,i,[a[0]/2+s[3],a[1]/2+s[0]],n,r);o=[e[0]-l[0],e[1]-l[1]]}return o}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(e){const n=cg(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&Fn(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,i,r);n&&(this.targetCenter_=this.calculateCenterZoom(o,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=Fn(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,r);n&&(this.targetCenter_=this.calculateCenterRotate(i,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Fn(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const r=this.getAnimating()||this.getInteracting()||n,i=this.constraints_.rotation(this.targetRotation_,r),o=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,0,o,r),a=this.constraints_.center(this.targetCenter_,s,o,r,this.calculateCenterShift(this.targetCenter_,s,i,o));this.get(Wt.ROTATION)!==i&&this.set(Wt.ROTATION,i),this.get(Wt.RESOLUTION)!==s&&(this.set(Wt.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(Wt.CENTER)||!bu(this.get(Wt.CENTER),a))&&this.set(Wt.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,r){e=void 0!==e?e:200;const i=n||0,o=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,i,s),l=this.constraints_.center(this.targetCenter_,a,s,!1,this.calculateCenterShift(this.targetCenter_,a,o,s));if(0===e&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=o,this.targetCenter_=l,void this.applyTargetState_();r=r||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==o||!this.getCenterInternal()||!bu(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:a,duration:e,easing:lo,anchor:r}))}beginInteraction(){this.resolveConstraints(0),this.setHint(1,1)}endInteraction(e,n,r){r=r&&Fn(r,this.getProjection()),this.endInteractionInternal(e,n,r)}endInteractionInternal(e,n,r){this.getInteracting()&&(this.setHint(1,-1),this.resolveConstraints(e,n,r))}getConstrainedCenter(e,n){const r=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),r)}getConstrainedZoom(e,n){const r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,n))}getConstrainedResolution(e,n){n=n||0;const r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,r)}};function Ig(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}const Sg=class bU extends b0{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener("source",this.handleSourcePropertyChange_),this.setSource(e.source?e.source:null)}getLayersArray(e){return(e=e||[]).push(this),e}getLayerStatesArray(e){return(e=e||[]).push(this.getLayerState()),e}getSource(){return this.get("source")||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!this.sourceReady_&&"ready"===this.getSource().getState()&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(De(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=J(e,"change",this.handleSourceChange_,this),"ready"===e.getState()&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}isVisible(e){let n;const r=this.getMapInternal();let i;!e&&r&&(e=r.getView()),n=e instanceof cn?{viewState:e.getState(),extent:e.calculateExtent()}:e,!n.layerStatesArray&&r&&(n.layerStatesArray=r.getLayerGroup().getLayerStatesArray()),i=n.layerStatesArray?n.layerStatesArray.find(s=>s.layer===this):this.getLayerState();const o=this.getExtent();return Ig(i,n.viewState)&&(!o||Us(o,n.extent))}getAttributions(e){if(!this.isVisible(e))return[];let n;const r=this.getSource();if(r&&(n=r.getAttributions()),!n)return[];let o=n(e instanceof cn?e.getViewStateAndExtent():e);return Array.isArray(o)||(o=[o]),o}render(e,n){const r=this.getRenderer();return r.prepareFrame(e)?(this.rendered=!0,r.renderFrame(e,n)):null}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set("map",e)}getMapInternal(){return this.get("map")}setMap(e){this.mapPrecomposeKey_&&(De(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(De(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=J(e,"precompose",function(n){const i=n.frameState.layerStatesArray,o=this.getLayerState(!1);ne(!i.some(function(s){return s.layer===o.layer}),67),i.push(o)},this),this.mapRenderKey_=J(this,"change",e.render,e),this.changed())}setSource(e){this.set("source",e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function AU(t,e){M0.expire()}const xU=class RU extends Gf{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){ge()}calculateMatrices2D(e){const n=e.viewState,r=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;Qi(r,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),Xf(i,r)}forEachFeatureAtCoordinate(e,n,r,i,o,s,a,l){let u;const c=n.viewState;function d(_,C,L,z){return o.call(s,C,_?L:null,z)}const h=c.projection,f=function BV(t,e){if(e.canWrapX()){const n=pe(e.getExtent()),r=function $V(t,e,n){const r=e.getExtent();let i=0;return e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])&&(n=n||pe(r),i=Math.floor((t[0]-r[0])/n)),i}(t,e,n);r&&(t[0]-=r*n)}return t}(e.slice(),h),g=[[0,0]];if(h.canWrapX()&&i){const C=pe(h.getExtent());g.push([-C,0],[C,0])}const p=n.layerStatesArray,y=p.length,v=[],m=[];for(let _=0;_<g.length;_++)for(let C=y-1;C>=0;--C){const L=p[C],z=L.layer;if(z.hasRenderer()&&Ig(L,c)&&a.call(l,z)){const ce=z.getRenderer(),Re=z.getSource();if(ce&&Re){const tt=Re.getWrapX()?f:e,dn=d.bind(null,L.managed);m[0]=tt[0]+g[_][0],m[1]=tt[1]+g[_][1],u=ce.forEachFeatureAtCoordinate(m,n,r,dn,v)}if(u)return u}}if(0===v.length)return;const E=1/v.length;return v.forEach((_,C)=>_.distanceSq+=C*E),v.sort((_,C)=>_.distanceSq-C.distanceSq),v.some(_=>u=_.callback(_.feature,_.layer,_.geometry)),u}hasFeatureAtCoordinate(e,n,r,i,o,s){return void 0!==this.forEachFeatureAtCoordinate(e,n,r,i,du,this,o,s)}getMap(){return this.map_}renderFrame(e){ge()}scheduleExpireIconCache(e){M0.canExpireCache()&&e.postRenderFunctions.push(AU)}},hI=class NU extends rr{constructor(e,n,r,i){super(e),this.inversePixelTransform=n,this.frameState=r,this.context=i}},Lu="ol-hidden",Fu="ol-unselectable",Tg="ol-control",fI="ol-collapsed";new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i");function zr(t,e,n,r){let i;return i=n&&n.length?n.shift():qf?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("2d",r)}function Mg(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function mI(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function bg(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}const kn=new On;const VU=class jU extends xU{constructor(e){super(e),this.fontChangeListenerKey_=J(kn,"propertychange",e.redrawText.bind(e)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Fu+" ol-layers";const r=e.getViewport();r.insertBefore(this.element_,r.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const r=this.getMap();if(r.hasListener(e)){const i=new hI(e,void 0,n);r.dispatchEvent(i)}}disposeInternal(){De(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(e),this.dispatchRenderEvent("precompose",e);const n=e.layerStatesArray.sort(function(s,a){return s.zIndex-a.zIndex}),r=e.viewState;this.children_.length=0;const i=[];let o=null;for(let s=0,a=n.length;s<a;++s){const l=n[s];e.layerIndex=s;const u=l.layer,c=u.getSourceState();if(!Ig(l,r)||"ready"!=c&&"undefined"!=c){u.unrender();continue}const d=u.render(e,o);d&&(d!==o&&(this.children_.push(d),o=d),"getDeclutter"in u&&i.push(u))}for(let s=i.length-1;s>=0;--s)i[s].renderDeclutter(e);(function LU(t,e){const n=t.childNodes;for(let r=0;;++r){const i=n[r],o=e[r];if(!i&&!o)break;if(i!==o){if(!i){t.appendChild(o);continue}if(!o){t.removeChild(i),--r;continue}t.insertBefore(o,i)}}})(this.element_,this.children_),this.dispatchRenderEvent("postcompose",e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}};class sr extends rr{constructor(e,n){super(e),this.layer=n}}class Ng extends b0{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let r=e.layers;super(n),this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener("layers",this.handleLayersChanged_),r?Array.isArray(r)?r=new Ln(r.slice(),{unique:!0}):ne("function"==typeof r.getArray,43):r=new Ln(void 0,{unique:!0}),this.setLayers(r)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(De),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(J(e,"add",this.handleLayersAdd_,this),J(e,"remove",this.handleLayersRemove_,this));for(const r in this.listenerKeys_)this.listenerKeys_[r].forEach(De);ks(this.listenerKeys_);const n=e.getArray();for(let r=0,i=n.length;r<i;r++){const o=n[r];this.registerLayerListeners_(o),this.dispatchEvent(new sr("addlayer",o))}this.changed()}registerLayerListeners_(e){const n=[J(e,"propertychange",this.handleLayerChange_,this),J(e,"change",this.handleLayerChange_,this)];e instanceof Ng&&n.push(J(e,"addlayer",this.handleLayerGroupAdd_,this),J(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ut(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new sr("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new sr("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new sr("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,r=ut(n);this.listenerKeys_[r].forEach(De),delete this.listenerKeys_[r],this.dispatchEvent(new sr("removelayer",n)),this.changed()}getLayers(){return this.get("layers")}setLayers(e){const n=this.getLayers();if(n){const r=n.getArray();for(let i=0,o=r.length;i<o;++i)this.dispatchEvent(new sr("removelayer",r[i]))}this.set("layers",e)}getLayersArray(e){return e=void 0!==e?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=void 0!==e?e:[],r=n.length;this.getLayers().forEach(function(s){s.getLayerStatesArray(n)});const i=this.getLayerState();let o=i.zIndex;!e&&void 0===i.zIndex&&(o=0);for(let s=r,a=n.length;s<a;s++){const l=n[s];l.opacity*=i.opacity,l.visible=l.visible&&i.visible,l.maxResolution=Math.min(l.maxResolution,i.maxResolution),l.minResolution=Math.max(l.minResolution,i.minResolution),l.minZoom=Math.max(l.minZoom,i.minZoom),l.maxZoom=Math.min(l.maxZoom,i.maxZoom),void 0!==i.extent&&(l.extent=void 0!==l.extent?to(l.extent,i.extent):i.extent),void 0===l.zIndex&&(l.zIndex=o)}return n}getSourceState(){return"ready"}}const ju=Ng,ho=class UU extends rr{constructor(e,n,r){super(e),this.map=n,this.frameState=void 0!==r?r:null}},ar=class HU extends ho{constructor(e,n,r,i,o,s){super(e,n,o),this.originalEvent=r,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==i&&i,this.activePointers=s}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},me={SINGLECLICK:"singleclick",CLICK:"click",DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},$U=class BU extends Zf{constructor(e,n){super(e),this.map_=e,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===n?1:n,this.down_=null;const r=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=r,this.pointerdownListenerKey_=J(r,"pointerdown",this.handlePointerDown_,this),this.relayedListenerKey_=J(r,"pointermove",this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener("touchmove",this.boundHandleTouchMove_,!!d0&&{passive:!1})}emulateClick_(e){let n=new ar(me.CLICK,this.map_,e);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new ar(me.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const r=new ar(me.SINGLECLICK,this.map_,e);this.dispatchEvent(r)},250)}updateActivePointers_(e){const n=e,r=n.pointerId;if(n.type==me.POINTERUP||n.type==me.POINTERCANCEL){delete this.trackedTouches_[r];for(const i in this.trackedTouches_)if(this.trackedTouches_[i].target!==n.target){delete this.trackedTouches_[i];break}}else(n.type==me.POINTERDOWN||n.type==me.POINTERMOVE)&&(this.trackedTouches_[r]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new ar(me.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(De),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return 0===e.button}handlePointerDown_(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);const n=new ar(me.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),0===this.dragListenerKeys_.length){const r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(J(r,me.POINTERMOVE,this.handlePointerMove_,this),J(r,me.POINTERUP,this.handlePointerUp_,this),J(this.element_,me.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(J(this.element_.getRootNode(),me.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new ar(me.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new ar(me.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&("boolean"!=typeof e.cancelable||!0===e.cancelable)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(De(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener("touchmove",this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(De(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(De),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},Vu=1/0,GU=class zU{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,ks(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,r=e[0];1==e.length?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const i=this.keyFunction_(r);return delete this.queuedElements_[i],r}enqueue(e){ne(!(this.keyFunction_(e)in this.queuedElements_),31);const n=this.priorityFunction_(e);return n!=Vu&&(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(e){return 2*e+1}getRightChildIndex_(e){return 2*e+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return 0===this.elements_.length}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,r=this.priorities_,i=n.length,o=n[e],s=r[e],a=e;for(;e<i>>1;){const l=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),c=u<i&&r[u]<r[l]?u:l;n[e]=n[c],r[e]=r[c],e=c}n[e]=o,r[e]=s,this.siftDown_(a,e)}siftDown_(e,n){const r=this.elements_,i=this.priorities_,o=r[n],s=i[n];for(;n>e;){const a=this.getParentIndex_(n);if(!(i[a]>s))break;r[n]=r[a],i[n]=i[a],n=a}r[n]=o,i[n]=s}reprioritize(){const e=this.priorityFunction_,n=this.elements_,r=this.priorities_;let i=0;const o=n.length;let s,a,l;for(a=0;a<o;++a)s=n[a],l=e(s),l==Vu?delete this.queuedElements_[this.keyFunction_(s)]:(r[i]=l,n[i++]=s);n.length=i,r.length=i,this.heapify_()}},ZU=class WU extends GU{constructor(e,n){super(function(r){return e.apply(null,r)},function(r){return r[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener("change",this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,r=n.getState();if(2===r||3===r||4===r){3!==r&&n.removeEventListener("change",this.boundHandleTileChange_);const i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let i,o,s,r=0;for(;this.tilesLoading_<e&&r<n&&this.getCount()>0;)o=this.dequeue()[0],s=o.getKey(),i=o.getState(),0===i&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++r,o.load())}},Og=class YU extends On{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){bg(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&bg(this.element);for(let n=0,r=this.listenerKeys.length;n<r;++n)De(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==fu&&this.listenerKeys.push(J(e,"postrender",this.render,this)),e.render())}render(e){}setTarget(e){this.target_="string"==typeof e?document.getElementById(e):e}},XU=class KU extends Og{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===e.collapsed||e.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==e.collapsible,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1);const n=void 0!==e.className?e.className:"ol-attribution",r=void 0!==e.tipLabel?e.tipLabel:"Attributions",i=void 0!==e.expandClassName?e.expandClassName:n+"-expand",o=void 0!==e.collapseLabel?e.collapseLabel:"\u203a",s=void 0!==e.collapseClassName?e.collapseClassName:n+"-collapse";"string"==typeof o?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=s):this.collapseLabel_=o;const a=void 0!==e.label?e.label:"i";"string"==typeof a?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=i):this.label_=a;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=r,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener("click",this.handleClick_.bind(this),!1);const c=this.element;c.className=n+" "+Fu+" "+Tg+(this.collapsed_&&this.collapsible_?" "+fI:"")+(this.collapsible_?"":" ol-uncollapsible"),c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=Array.from(new Set(this.getMap().getAllLayers().flatMap(i=>i.getAttributions(e)))),r=!this.getMap().getAllLayers().some(i=>i.getSource()&&!1===i.getSource().getAttributionsCollapsible());return this.overrideCollapsible_||this.setCollapsible(r),n}updateElement_(e){if(!e)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const n=this.collectSourceAttributions_(e),r=n.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!cu(n,this.renderedAttributions_)){!function OU(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(let i=0,o=n.length;i<o;++i){const s=document.createElement("li");s.innerHTML=n[i],this.ulElement_.appendChild(s)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(fI),this.collapsed_?mI(this.collapseLabel_,this.label_):mI(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}},JU=class QU extends Og{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=void 0!==e.className?e.className:"ol-rotate",r=void 0!==e.label?e.label:"\u21e7",i=void 0!==e.compassClassName?e.compassClassName:"ol-compass";this.label_=null,"string"==typeof r?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=r):(this.label_=r,this.label_.classList.add(i));const o=e.tipLabel?e.tipLabel:"Reset rotation",s=document.createElement("button");s.className=n+"-reset",s.setAttribute("type","button"),s.title=o,s.appendChild(this.label_),s.addEventListener("click",this.handleClick_.bind(this),!1);const l=this.element;l.className=n+" "+Fu+" "+Tg,l.appendChild(s),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Lu)}handleClick_(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const r=n.getRotation();void 0!==r&&(this.duration_>0&&r%(2*Math.PI)!=0?n.animate({rotation:0,duration:this.duration_,easing:lo}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const r=n.viewState.rotation;if(r!=this.rotation_){const i="rotate("+r+"rad)";if(this.autoHide_){const o=this.element.classList.contains(Lu);o||0!==r?o&&0!==r&&this.element.classList.remove(Lu):this.element.classList.add(Lu)}this.label_.style.transform=i}this.rotation_=r}},tH=class eH extends Og{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=void 0!==e.className?e.className:"ol-zoom",r=void 0!==e.delta?e.delta:1,i=void 0!==e.zoomInClassName?e.zoomInClassName:n+"-in",o=void 0!==e.zoomOutClassName?e.zoomOutClassName:n+"-out",s=void 0!==e.zoomInLabel?e.zoomInLabel:"+",a=void 0!==e.zoomOutLabel?e.zoomOutLabel:"\u2013",l=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",u=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=i,c.setAttribute("type","button"),c.title=l,c.appendChild("string"==typeof s?document.createTextNode(s):s),c.addEventListener("click",this.handleClick_.bind(this,r),!1);const d=document.createElement("button");d.className=o,d.setAttribute("type","button"),d.title=u,d.appendChild("string"==typeof a?document.createTextNode(a):a),d.addEventListener("click",this.handleClick_.bind(this,-r),!1);const f=this.element;f.className=n+" "+Fu+" "+Tg,f.appendChild(c),f.appendChild(d),this.duration_=void 0!==e.duration?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const r=this.getMap().getView();if(!r)return;const i=r.getZoom();if(void 0!==i){const o=r.getConstrainedZoom(i+e);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:o,duration:this.duration_,easing:lo})):r.setZoom(o)}}};function Lg(t,e,n,r){const i=t.getZoom();if(void 0===i)return;const o=t.getConstrainedZoom(i+e),s=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:s,anchor:n,duration:void 0!==r?r:250,easing:lo})}const Ws=class rH extends On{constructor(e){super(),e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get("active")}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set("active",e)}setMap(e){this.map_=e}},sH=class oH extends Ws{constructor(e){super(),this.delta_=(e=e||{}).delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:250}handleEvent(e){let n=!1;if(e.type==me.DBLCLICK){const r=e.originalEvent,o=e.coordinate,s=r.shiftKey?-this.delta_:this.delta_;Lg(e.map.getView(),s,o,this.duration_),r.preventDefault(),n=!0}return!n}};function Fg(t){const e=t.length;let n=0,r=0;for(let i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return{clientX:n/e,clientY:r/e}}const Zs=class aH extends Ws{constructor(e){super(e=e||{}),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==me.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==me.POINTERUP){const r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==me.POINTERDOWN){const r=this.handleDownEvent(e);this.handlingDownUpSequence=r,n=this.stopDown(r)}else e.type==me.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};function kg(t){const e=arguments;return function(n){let r=!0;for(let i=0,o=e.length;i<o&&(r=r&&e[i](n),r);++i);return r}}const lH=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},_I=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)}(t)},cH=du,EI=function(t){const e=t.originalEvent;return 0==e.button&&!(Jj&&eV&&e.ctrlKey)},DI=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},dH=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},CI=function(t){const e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!e.target.isContentEditable},jg=function(t){const e=t.originalEvent;return ne(void 0!==e,56),"mouse"==e.pointerType},hH=function(t){const e=t.originalEvent;return ne(void 0!==e,56),e.isPrimary&&0===e.button},gH=class fH extends Zs{constructor(e){super({stopDown:hu}),this.kinetic_=(e=e||{}).kinetic,this.lastCentroid=null,this.panning_=!1;const n=e.condition?e.condition:kg(DI,hH);this.condition_=e.onFocusOnly?kg(_I,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const r=this.targetPointers,i=n.getEventPixel(Fg(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=e.map.getView();(function UV(t,e){t[0]*=e,t[1]*=e})(o,a.getResolution()),ig(o,a.getRotation()),a.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,r=n.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),s=r.getCenterInternal(),a=n.getPixelFromCoordinateInternal(s),l=n.getCoordinateFromPixelInternal([a[0]-i*Math.cos(o),a[1]-i*Math.sin(o)]);r.animateInternal({center:r.getConstrainedCenter(l),duration:500,easing:lo})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const r=e.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},mH=class pH extends Zs{constructor(e){e=e||{},super({stopDown:hu}),this.condition_=e.condition?e.condition:lH,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){if(!jg(e))return;const n=e.map,r=n.getView();if(r.getConstraints().rotation===fg)return;const i=n.getSize(),o=e.pixel,s=Math.atan2(i[1]/2-o[1],o[0]-i[0]/2);void 0!==this.lastAngle_&&r.adjustRotationInternal(-(s-this.lastAngle_)),this.lastAngle_=s}handleUpEvent(e){return!jg(e)||(e.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(e){return!!(jg(e)&&EI(e)&&this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0)}},vH=class yH extends Gf{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(e[0],n[0])+r,i.top=Math.min(e[1],n[1])+r,i.width=Math.abs(n[0]-e[0])+r,i.height=Math.abs(n[1]-e[1])+r}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,n=this.endPixel_,i=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new DU([i])}getGeometry(){return this.geometry_}};class Vg extends rr{constructor(e,n,r){super(e),this.coordinate=n,this.mapBrowserEvent=r}}const EH=class _H extends Zs{constructor(e){super(),this.box_=new vH((e=e||{}).className||"ol-dragbox"),this.minArea_=void 0!==e.minArea?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:EI,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,r){const i=r[0]-n[0],o=r[1]-n[1];return i*i+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Vg("boxdrag",e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new Vg(n?"boxend":"boxcancel",e.coordinate,e)),!1}handleDownEvent(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Vg("boxstart",e.coordinate,e)),!0)}onBoxEnd(e){}},CH=class DH extends EH{constructor(e){super({condition:(e=e||{}).condition?e.condition:dH,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out}onBoxEnd(e){const r=this.getMap().getView();let i=this.getGeometry();if(this.out_){const o=r.rotatedExtentForGeometry(i),s=r.getResolutionForExtentInternal(o),a=r.getResolution()/s;i=i.clone(),i.scale(a*a)}r.fitInternal(i,{duration:this.duration_,easing:lo})}},IH=class wH extends Ws{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return DI(n)&&CI(n)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128}handleEvent(e){let n=!1;if("keydown"==e.type){const r=e.originalEvent,i=r.key;if(this.condition_(e)&&("ArrowDown"==i||"ArrowLeft"==i||"ArrowRight"==i||"ArrowUp"==i)){const s=e.map.getView(),a=s.getResolution()*this.pixelDelta_;let l=0,u=0;"ArrowDown"==i?u=-a:"ArrowLeft"==i?l=-a:"ArrowRight"==i?l=a:u=a;const c=[l,u];ig(c,s.getRotation()),function iH(t,e,n){const r=t.getCenterInternal();r&&t.animateInternal({duration:void 0!==n?n:250,easing:iU,center:t.getConstrainedCenter([r[0]+e[0],r[1]+e[1]])})}(s,c,this.duration_),r.preventDefault(),n=!0}}return!n}},TH=class SH extends Ws{constructor(e){super(),this.condition_=(e=e||{}).condition?e.condition:CI,this.delta_=e.delta?e.delta:1,this.duration_=void 0!==e.duration?e.duration:100}handleEvent(e){let n=!1;if("keydown"==e.type||"keypress"==e.type){const r=e.originalEvent,i=r.key;if(this.condition_(e)&&("+"===i||"-"===i)){const s="+"===i?this.delta_:-this.delta_;Lg(e.map.getView(),s,void 0,this.duration_),r.preventDefault(),n=!0}}return!n}},AH=class RH extends Ws{constructor(e){super(e=e||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;const n=e.condition?e.condition:cH;this.condition_=e.onFocusOnly?kg(_I,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||"wheel"!==e.type)return!0;const r=e.map,i=e.originalEvent;let o;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate),"wheel"==e.type&&(o=i.deltaY,Qj&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=c0),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),0===o)return!1;this.lastDelta_=o;const s=Date.now();void 0===this.startTime_&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");const a=r.getView();if("trackpad"===this.mode_&&!a.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=o;const l=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),l),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let r=-Oe(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),Lg(n,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}},NH=class xH extends Zs{constructor(e){const n=e=e||{};n.stopDown||(n.stopDown=hu),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){let n=0;const r=this.targetPointers[0],i=this.targetPointers[1],o=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(void 0!==this.lastAngle_){const l=o-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=o;const s=e.map,a=s.getView();a.getConstraints().rotation!==fg&&(this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel(Fg(this.targetPointers))),this.rotating_&&(s.render(),a.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_),1))}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}},OH=class PH extends Zs{constructor(e){const n=e=e||{};n.stopDown||(n.stopDown=hu),super(n),this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const r=this.targetPointers[0],i=this.targetPointers[1],o=r.clientX-i.clientX,s=r.clientY-i.clientY,a=Math.sqrt(o*o+s*s);void 0!==this.lastDistance_&&(n=this.lastDistance_/a),this.lastDistance_=a;const l=e.map,u=l.getView();1!=n&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(Fg(this.targetPointers))),l.render(),u.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),!1)}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}};function wI(t){return t[0]>0&&t[1]>0}function ur(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}function II(t){t instanceof Sg?t.setMapInternal(null):t instanceof ju&&t.getLayers().forEach(II)}function SI(t,e){if(t instanceof Sg)t.setMapInternal(e);else if(t instanceof ju){const n=t.getLayers().getArray();for(let r=0,i=n.length;r<i;++r)SI(n[r],e)}}const TI=class kH extends On{constructor(e){super();const n=function jH(t){let e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},r=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new ju({layers:t.layers});let i,o,s;return n.layergroup=r,n.target=t.target,n.view=t.view instanceof cn?t.view:new cn,void 0!==t.controls&&(Array.isArray(t.controls)?i=new Ln(t.controls.slice()):(ne("function"==typeof t.controls.getArray,47),i=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?o=new Ln(t.interactions.slice()):(ne("function"==typeof t.interactions.getArray,48),o=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?s=new Ln(t.overlays.slice()):(ne("function"==typeof t.overlays.getArray,49),s=t.overlays):s=new Ln,{controls:i,interactions:o,keyboardEventTarget:e,overlays:s,values:n}}(e=e||{});this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:c0,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||function nH(t){t=t||{};const e=new Ln;return(void 0===t.zoom||t.zoom)&&e.push(new tH(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new JU(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new XU(t.attributionOptions)),e}(),this.interactions=n.interactions||function LH(t){t=t||{};const e=new Ln,n=new class MH{constructor(e,n,r){this.decay_=e,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let r=n-3;for(;r>0&&this.points_[r+2]>e;)r-=3;const i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;const o=this.points_[n]-this.points_[r],s=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(s,o),this.initialVelocity_=Math.sqrt(o*o+s*s)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new mH),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new sH({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new gH({onFocusOnly:t.onFocusOnly,kinetic:n})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new NH),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new OH({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new IH),e.push(new TH({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new AH({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new CH({duration:t.zoomDuration})),e}({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new ZU(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener("layergroup",this.handleLayerGroupChanged_),this.addChangeListener("view",this.handleViewChanged_),this.addChangeListener("size",this.handleSizeChanged_),this.addChangeListener("target",this.handleTargetChanged_),this.setProperties(n.values);const r=this;e.view&&!(e.view instanceof cn)&&e.view.then(function(i){r.setView(new cn(i))}),this.controls.addEventListener("add",i=>{i.element.setMap(this)}),this.controls.addEventListener("remove",i=>{i.element.setMap(null)}),this.interactions.addEventListener("add",i=>{i.element.setMap(this)}),this.interactions.addEventListener("remove",i=>{i.element.setMap(null)}),this.overlays_.addEventListener("add",i=>{this.addOverlayInternal_(i.element)}),this.overlays_.addEventListener("remove",i=>{const o=i.element.getId();void 0!==o&&delete this.overlayIdIndex_[o.toString()],i.element.setMap(null)}),this.controls.forEach(i=>{i.setMap(this)}),this.interactions.forEach(i=>{i.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){SI(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();void 0!==n&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,r){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(e);return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,void 0!==(r=void 0!==r?r:{}).hitTolerance?r.hitTolerance:0,!1!==r.checkWrapped,n,null,void 0!==r.layerFilter?r.layerFilter:du,null)}getFeaturesAtPixel(e,n){const r=[];return this.forEachFeatureAtPixel(e,function(i){r.push(i)},n),r}getAllLayers(){const e=[];return function n(r){r.forEach(function(i){i instanceof ju?n(i.getLayers()):e.push(i)})}(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const r=this.getCoordinateFromPixelInternal(e);return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,!1!==n.checkWrapped,void 0!==n.layerFilter?n.layerFilter:du,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const r=this.viewport_.getBoundingClientRect(),i=this.getSize(),a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-r.left)/(r.width/i[0]),(a.clientY-r.top)/(r.height/i[1])]}getTarget(){return this.get("target")}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return cg(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?At(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return void 0!==n?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get("layergroup")}setLayers(e){const n=this.getLayerGroup();if(e instanceof Ln)return void n.setLayers(e);const r=n.getLayers();r.clear(),r.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n];if(!i.visible)continue;const o=i.layer.getRenderer();if(o&&!o.ready)return!0;const s=i.layer.getSource();if(s&&s.loading)return!0}return!1}getPixelFromCoordinate(e){const n=Fn(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?At(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get("size")}getView(){return this.get("view")}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,r,i){return function qU(t,e,n,r,i){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return Vu;const o=t.viewState.center,s=r[0]-o[0],a=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(s*s+a*a)/i}(this.frameState_,e,n,r,i)}handleBrowserEvent(e,n){const r=new ar(n=n||e.type,this,e);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,r=n.type;if("pointerdown"===r||"wheel"===r||"keydown"===r){const i=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():i,s=n.target;if(this.overlayContainerStopEvent_.contains(s)||!(o===i?i.documentElement:o).contains(s))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e)){const i=this.getInteractions().getArray().slice();for(let o=i.length-1;o>=0;o--){const s=i[o];if(s.getMap()===this&&s.getActive()&&this.getTargetElement()&&(!s.handleEvent(e)||e.propagationStopped))break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let i=this.maxTilesLoading_,o=i;if(e){const s=e.viewHints;if(s[0]||s[1]){const a=Date.now()-e.time>8;i=a?0:8,o=a?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,o))}e&&this.renderer_&&!e.animate&&(!0===this.renderComplete_?(this.hasListener("rendercomplete")&&this.renderer_.dispatchRenderEvent("rendercomplete",e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new ho("loadend",this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new ho("loadstart",this,e))));const r=this.postRenderFunctions_;for(let i=0,o=r.length;i<o;++i)r[i](this,e);r.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let r=0,i=this.targetChangeHandlerKeys_.length;r<i;++r)De(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener("contextmenu",this.boundHandleBrowserEvent_),this.viewport_.removeEventListener("wheel",this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,bg(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const r=this.targetElement_.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.unobserve(r.host),this.setSize(void 0)}const e=this.getTarget(),n="string"==typeof e?document.getElementById(e):e;if(this.targetElement_=n,n){n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new VU(this)),this.mapBrowserEventHandler_=new $U(this,this.moveTolerance_);for(const o in me)this.mapBrowserEventHandler_.addEventListener(me[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener("contextmenu",this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener("wheel",this.boundHandleBrowserEvent_,!!d0&&{passive:!1});const r=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[J(r,"keydown",this.handleBrowserEvent,this),J(r,"keypress",this.handleBrowserEvent,this)];const i=n.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(n)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(De(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(De(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=J(e,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=J(e,"change",this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(De),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new sr("addlayer",e)),this.layerGroupPropertyListenerKeys_=[J(e,"propertychange",this.render,this),J(e,"change",this.render,this),J(e,"addlayer",this.handleLayerAdd_,this),J(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){II(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),r=this.getView(),i=this.frameState_;let o=null;if(void 0!==n&&wI(n)&&r&&r.isDef()){const s=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=r.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:eg(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:s,wantedTiles:{},mapId:ut(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;o.nextExtent=eg(a.nextCenter,a.nextResolution,l,n)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),i&&(!this.previousExtent_||!Du(this.previousExtent_)&&!Jf(o.extent,this.previousExtent_))&&(this.dispatchEvent(new ho("movestart",this,i)),this.previousExtent_=Vr(this.previousExtent_)),this.previousExtent_&&!o.viewHints[0]&&!o.viewHints[1]&&!Jf(o.extent,this.previousExtent_)&&(this.dispatchEvent(new ho("moveend",this,o)),function iV(t,e){e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]):t.slice()}(o.extent,this.previousExtent_))),this.dispatchEvent(new ho("postrender",this,o)),this.renderComplete_=this.hasListener("loadstart")||this.hasListener("loadend")||this.hasListener("rendercomplete")?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new sr("removelayer",n)),this.set("layergroup",e)}setSize(e){this.set("size",e)}setTarget(e){this.set("target",e)}setView(e){if(!e||e instanceof cn)return void this.set("view",e);this.set("view",new cn);const n=this;e.then(function(r){n.setView(new cn(r))})}updateSize(){const e=this.getTargetElement();let n;if(e){const i=getComputedStyle(e),o=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),s=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(o)&&!isNaN(s)&&(n=[o,s],!wI(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&L0("No map visible because the map container's width or height are 0."))}const r=this.getSize();n&&(!r||!cu(n,r))&&(this.setSize(n),this.updateViewportSize_())}updateViewportSize_(){const e=this.getView();if(e){let n;const r=getComputedStyle(this.viewport_);r.width&&r.height&&(n=[parseInt(r.width,10),parseInt(r.height,10)]),e.setViewportSize(n)}}},UH=class VH extends Sg{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.setPreload(void 0!==e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError)}getPreload(){return this.get("preload")}setPreload(e){this.set("preload",e)}getUseInterimTilesOnError(){return this.get("useInterimTilesOnError")}setUseInterimTilesOnError(e){this.set("useInterimTilesOnError",e)}getData(e){return super.getData(e)}},BH=class HH extends s0{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return ge()}getData(e){return null}prepareFrame(e){return ge()}renderFrame(e,n){return ge()}loadedTileCallback(e,n,r){e[n]||(e[n]={}),e[n][r.tileCoord.toString()]=r}createLoadedTileFinder(e,n,r){return(i,o)=>{const s=this.loadedTileCallback.bind(this,r,i);return e.forEachLoadedTile(n,i,o,s)}}forEachFeatureAtCoordinate(e,n,r,i,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){2===e.target.getState()&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return 2!=n&&3!=n&&e.addEventListener("change",this.boundHandleImageChange_),0==n&&(e.load(),n=e.getState()),2==n}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}};let fo=null;const GH=class zH extends BH{constructor(e){super(e),this.container=null,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,n,r){let i;fo||function $H(){fo=zr(1,1,void 0,{willReadFrequently:!0})}(),fo.clearRect(0,0,1,1);try{fo.drawImage(e,n,r,1,1,0,0,1,1),i=fo.getImageData(0,0,1,1).data}catch{return fo=null,null}return i}getBackground(e){let r=this.getLayer().getBackground();return"function"==typeof r&&(r=r(e.viewState.resolution)),r||void 0}useContainer(e,n,r){const i=this.getLayer().getClassName();let o,s;if(e&&e.className===i&&(!r||e&&e.style.backgroundColor&&cu(I0(e.style.backgroundColor),I0(r)))){const a=e.firstElementChild;a instanceof HTMLCanvasElement&&(s=a.getContext("2d"))}if(s&&s.canvas.style.transform===n?(this.container=e,this.context=s,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){o=document.createElement("div"),o.className=i;let a=o.style;a.position="absolute",a.width="100%",a.height="100%",s=zr();const l=s.canvas;o.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=o,this.context=s}!this.containerReused&&r&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=r)}clipUnrotated(e,n,r){const i=Ur(r),o=Eu(r),s=_u(r),a=vu(r);At(n.coordinateToPixelTransform,i),At(n.coordinateToPixelTransform,o),At(n.coordinateToPixelTransform,s),At(n.coordinateToPixelTransform,a);const l=this.inversePixelTransform;At(l,i),At(l,o),At(l,s),At(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}dispatchRenderEvent_(e,n,r){const i=this.getLayer();if(i.hasListener(e)){const o=new hI(e,this.inversePixelTransform,r,n);i.dispatchEvent(o)}}preRender(e,n){this.frameState=n,this.dispatchRenderEvent_("prerender",e,n)}postRender(e,n){this.dispatchRenderEvent_("postrender",e,n)}getRenderTransform(e,n,r,i,o,s,a){const c=i/n;return Qi(this.tempTransform,o/2,s/2,c,-c,-r,-e[0]+a,-e[1])}disposeInternal(){delete this.frameState,super.disposeInternal()}},MI=class WH extends Zf{constructor(e,n,r){super(),r=r||{},this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent("change")}release(){3===this.state&&this.setState(4)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let e=this.interimTile;do{if(2==e.getState())return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){if(!this.interimTile)return;let e=this.interimTile,n=this;do{if(2==e.getState()){e.interimTile=null;break}1==e.getState()?n=e:0==e.getState()?n.interimTile=e.interimTile:n=e,e=n.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(3!==this.state&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){ge()}getAlpha(e,n){if(!this.transition_)return 1;let r=this.transitionStarts_[e];if(r){if(-1===r)return 1}else r=n,this.transitionStarts_[e]=r;const i=n-r+1e3/60;return i>=this.transition_?1:G0(i/this.transition_)}inTransition(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}};const RI=class ZH extends MI{constructor(e,n,r,i,o,s){super(e,n,s),this.crossOrigin_=i,this.src_=r,this.key=r,this.image_=new Image,null!==i&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(e){this.image_=e,this.state=2,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=3,this.unlistenImage_(),this.image_=function qH(){const t=zr(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()}handleImageLoad_(){const e=this.image_;this.state=e.naturalWidth&&e.naturalHeight?2:4,this.unlistenImage_(),this.changed()}load(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function bI(t,e,n){const r=t;let i=!0,o=!1,s=!1;const a=[gu(r,"load",function(){s=!0,o||e()})];return r.src&&tV?(o=!0,r.decode().then(function(){i&&e()}).catch(function(l){i&&(s?e():n())})):a.push(gu(r,"error",n)),function(){i=!1,a.forEach(De)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}};let Ug;const go=[];function xI(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function Hg(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function NI(t,e,n,r){const i=Gs(n,e,t);let o=j0(e,r,n);const s=e.getMetersPerUnit();void 0!==s&&(o*=s);const a=t.getMetersPerUnit();void 0!==a&&(o/=a);const l=t.getExtent();if(!l||Qf(l,i)){const u=j0(t,o,i)/o;isFinite(u)&&u>0&&(o/=u)}return o}const Bg=class nB extends MI{constructor(e,n,r,i,o,s,a,l,u,c,d,h){super(o,0,{interpolate:!!h}),this.renderEdges_=void 0!==d&&d,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=i,this.wrappedTileCoord_=s||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const f=i.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const y=g?to(f,g):f;if(0===yu(y))return void(this.state=4);const v=e.getExtent();v&&(p=p?to(p,v):v);const m=i.getResolution(this.wrappedTileCoord_[0]),E=function eB(t,e,n,r){const i=eo(n);let o=NI(t,e,i,r);return(!isFinite(o)||o<=0)&&E0(n,function(s){return o=NI(t,e,s,r),isFinite(o)&&o>0}),o}(e,r,y,m);if(!isFinite(E)||E<=0)return void(this.state=4);if(this.triangulation_=new class XH{constructor(e,n,r,i,o,s){this.sourceProj_=e,this.targetProj_=n;let a={};const l=zs(this.targetProj_,this.sourceProj_);this.transformInv_=function(m){const E=m[0]+"/"+m[1];return a[E]||(a[E]=l(m)),a[E]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&pe(i)>=pe(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?pe(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?pe(this.targetProj_.getExtent()):null;const u=Ur(r),c=Eu(r),d=_u(r),h=vu(r),f=this.transformInv_(u),g=this.transformInv_(c),p=this.transformInv_(d),y=this.transformInv_(h),v=10+(s?Math.max(0,Math.ceil(Math.log2(yu(r)/(s*s*256*256)))):0);if(this.addQuad_(u,c,d,h,f,g,p,y,v),this.wrapsXInSource_){let m=1/0;this.triangles_.forEach(function(E,_,C){m=Math.min(m,E.source[0][0],E.source[1][0],E.source[2][0])}),this.triangles_.forEach(E=>{if(Math.max(E.source[0][0],E.source[1][0],E.source[2][0])-m>this.sourceWorldWidth_/2){const _=[[E.source[0][0],E.source[0][1]],[E.source[1][0],E.source[1][1]],[E.source[2][0],E.source[2][1]]];_[0][0]-m>this.sourceWorldWidth_/2&&(_[0][0]-=this.sourceWorldWidth_),_[1][0]-m>this.sourceWorldWidth_/2&&(_[1][0]-=this.sourceWorldWidth_),_[2][0]-m>this.sourceWorldWidth_/2&&(_[2][0]-=this.sourceWorldWidth_);const C=Math.min(_[0][0],_[1][0],_[2][0]);Math.max(_[0][0],_[1][0],_[2][0])-C<this.sourceWorldWidth_/2&&(E.source=_)}})}a={}}addTriangle_(e,n,r,i,o,s){this.triangles_.push({source:[i,o,s],target:[e,n,r]})}addQuad_(e,n,r,i,o,s,a,l,u){const c=g0([o,s,a,l]),d=this.sourceWorldWidth_?pe(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&d>.5&&d<1;let g=!1;if(u>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(g=pe(g0([e,n,r,i]))/this.targetWorldWidth_>.25||g),!f&&this.sourceProj_.isGlobal()&&d&&(g=d>.25||g)),!g&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!Us(c,this.maxSourceExtent_))return;let p=0;if(!(g||isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(l[0])&&isFinite(l[1])))if(u>0)g=!0;else if(p=(isFinite(o[0])&&isFinite(o[1])?0:8)+(isFinite(s[0])&&isFinite(s[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(l[0])&&isFinite(l[1])?0:1),1!=p&&2!=p&&4!=p&&8!=p)return;if(u>0){if(!g){const v=this.transformInv_([(e[0]+r[0])/2,(e[1]+r[1])/2]);let m;m=f?(ro(o[0],h)+ro(a[0],h))/2-ro(v[0],h):(o[0]+a[0])/2-v[0];const E=(o[1]+a[1])/2-v[1];g=m*m+E*E>this.errorThresholdSquared_}if(g){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){const y=[(n[0]+r[0])/2,(n[1]+r[1])/2],v=this.transformInv_(y),m=[(i[0]+e[0])/2,(i[1]+e[1])/2],E=this.transformInv_(m);this.addQuad_(e,n,y,m,o,s,v,E,u-1),this.addQuad_(m,y,r,i,E,v,a,l,u-1)}else{const y=[(e[0]+n[0])/2,(e[1]+n[1])/2],v=this.transformInv_(y),m=[(r[0]+i[0])/2,(r[1]+i[1])/2],E=this.transformInv_(m);this.addQuad_(e,y,m,i,o,v,E,l,u-1),this.addQuad_(y,n,r,m,v,s,a,E,u-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}11&p||this.addTriangle_(e,r,i,o,a,l),14&p||this.addTriangle_(e,r,n,o,a,s),p&&(13&p||this.addTriangle_(n,i,e,s,l,o),7&p||this.addTriangle_(n,i,r,s,l,a))}calculateSourceExtent(){const e=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(n,r,i){const o=n.source;Vs(e,o[0]),Vs(e,o[1]),Vs(e,o[2])}),e}getTriangles(){return this.triangles_}}(e,r,y,p,E*(void 0!==c?c:.5),m),0===this.triangulation_.getTriangles().length)return void(this.state=4);this.sourceZ_=n.getZForResolution(E);let C=this.triangulation_.calculateSourceExtent();if(p&&(e.canWrapX()?(C[1]=Oe(C[1],p[1],p[3]),C[3]=Oe(C[3],p[1],p[3])):C=to(C,p)),yu(C)){const L=n.getTileRangeForExtentAndZ(C,this.sourceZ_);for(let z=L.minX;z<=L.maxX;z++)for(let ce=L.minY;ce<=L.maxY;ce++){const Re=u(this.sourceZ_,z,ce,a);Re&&this.sourceTiles_.push(Re)}0===this.sourceTiles_.length&&(this.state=4)}else this.state=4}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{n&&2==n.getState()&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})}),this.sourceTiles_.length=0,0===e.length)this.state=3;else{const n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),i="number"==typeof r?r:r[0],o="number"==typeof r?r:r[1],s=this.targetTileGrid_.getResolution(n),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function tB(t,e,n,r,i,o,s,a,l,u,c,d){const h=zr(Math.round(n*t),Math.round(n*e),go);if(d||(h.imageSmoothingEnabled=!1),0===l.length)return h.canvas;function f(_){return Math.round(_*n)/n}h.scale(n,n),h.globalCompositeOperation="lighter";const g=[1/0,1/0,-1/0,-1/0];l.forEach(function(_,C,L){!function lV(t,e){e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3])}(g,_.extent)});const p=pe(g),y=Gt(g),v=zr(Math.round(n*p/r),Math.round(n*y/r),go);d||(v.imageSmoothingEnabled=!1);const m=n/r;l.forEach(function(_,C,L){const z=_.extent[0]-g[0],ce=-(_.extent[3]-g[3]),Re=pe(_.extent),tt=Gt(_.extent);_.image.width>0&&_.image.height>0&&v.drawImage(_.image,u,u,_.image.width-2*u,_.image.height-2*u,z*m,ce*m,Re*m,tt*m)});const E=Ur(s);return a.getTriangles().forEach(function(_,C,L){const z=_.source,ce=_.target;let Re=z[0][0],tt=z[0][1],dn=z[1][0],dr=z[1][1],hr=z[2][0],Ks=z[2][1];const hn=f((ce[0][0]-E[0])/o),jn=f(-(ce[0][1]-E[1])/o),re=f((ce[1][0]-E[0])/o),_t=f(-(ce[1][1]-E[1])/o),Vn=f((ce[2][0]-E[0])/o),fn=f(-(ce[2][1]-E[1])/o),Wr=Re,ct=tt;Re=0,tt=0,dn-=Wr,dr-=ct,hr-=Wr,Ks-=ct;const Ae=function yV(t){const e=t.length;for(let r=0;r<e;r++){let i=r,o=Math.abs(t[r][r]);for(let a=r+1;a<e;a++){const l=Math.abs(t[a][r]);l>o&&(o=l,i=a)}if(0===o)return null;const s=t[i];t[i]=t[r],t[r]=s;for(let a=r+1;a<e;a++){const l=-t[a][r]/t[r][r];for(let u=r;u<e+1;u++)r==u?t[a][u]=0:t[a][u]+=l*t[r][u]}}const n=new Array(e);for(let r=e-1;r>=0;r--){n[r]=t[r][e]/t[r][r];for(let i=r-1;i>=0;i--)t[i][e]-=t[i][r]*n[r]}return n}([[dn,dr,0,0,re-hn],[hr,Ks,0,0,Vn-hn],[0,0,dn,dr,_t-jn],[0,0,hr,Ks,fn-jn]]);if(Ae){if(h.save(),h.beginPath(),function JH(){if(void 0===Ug){const t=zr(6,6,go);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",xI(t,4,5,4,0),xI(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;Ug=Hg(e,0)||Hg(e,4)||Hg(e,8),Mg(t),go.push(t.canvas)}return Ug}()||!d){h.moveTo(re,_t);const we=4,yo=hn-re,fr=jn-_t;for(let dt=0;dt<we;dt++)h.lineTo(re+f((dt+1)*yo/we),_t+f(dt*fr/(we-1))),dt!=we-1&&h.lineTo(re+f((dt+1)*yo/we),_t+f((dt+1)*fr/(we-1)));h.lineTo(Vn,fn)}else h.moveTo(re,_t),h.lineTo(hn,jn),h.lineTo(Vn,fn);h.clip(),h.transform(Ae[0],Ae[2],Ae[1],Ae[3],hn,jn),h.translate(g[0]-Wr,g[3]-ct),h.scale(r/n,-r/n),h.drawImage(v.canvas,0,0),h.restore()}}),Mg(v),go.push(v.canvas),c&&(h.save(),h.globalCompositeOperation="source-over",h.strokeStyle="black",h.lineWidth=1,a.getTriangles().forEach(function(_,C,L){const z=_.target,ce=(z[0][0]-E[0])/o,Re=-(z[0][1]-E[1])/o,tt=(z[1][0]-E[0])/o,dn=-(z[1][1]-E[1])/o,dr=(z[2][0]-E[0])/o,hr=-(z[2][1]-E[1])/o;h.beginPath(),h.moveTo(tt,dn),h.lineTo(ce,Re),h.lineTo(dr,hr),h.closePath(),h.stroke()}),h.restore()),h.canvas}(i,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=2}this.changed()}load(){if(0==this.state){this.state=1,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(n=>{const r=n.getState();if(0==r||1==r){e++;const i=J(n,"change",function(o){const s=n.getState();(2==s||3==s||4==s)&&(De(i),e--,0===e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(i)}}),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,r,i){0==n.getState()&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(De),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Mg(this.canvas_.getContext("2d")),go.push(this.canvas_),this.canvas_=null),super.release()}};class PI{constructor(e,n,r,i){this.minX=e,this.maxX=n,this.minY=r,this.maxY=i}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function po(t,e,n,r,i){return void 0!==i?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new PI(t,e,n,r)}const OI=PI,iB=class rB extends GH{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedProjection=null,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=[1/0,1/0,-1/0,-1/0],this.tmpTileRange_=new OI(0,0,0,0)}isDrawableTile(e){const n=this.getLayer(),r=e.getState(),i=n.getUseInterimTilesOnError();return 2==r||4==r||3==r&&!i}getTile(e,n,r,i){const o=i.pixelRatio,s=i.viewState.projection,a=this.getLayer();let u=a.getSource().getTile(e,n,r,o,s);return 3==u.getState()&&a.getUseInterimTilesOnError()&&a.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(u)||(u=u.getInterimTile()),u}getData(e){const n=this.frameState;if(!n)return null;const r=this.getLayer(),i=At(n.pixelToCoordinateTransform,e.slice()),o=r.getExtent();if(o&&!Qf(o,i))return null;const s=n.pixelRatio,a=n.viewState.projection,l=n.viewState,u=r.getRenderSource(),c=u.getTileGridForProjection(l.projection),d=u.getTilePixelRatio(n.pixelRatio);for(let h=c.getZForResolution(l.resolution);h>=c.getMinZoom();--h){const f=c.getTileCoordForCoordAndZ(i,h),g=u.getTile(h,f[1],f[2],s,a);if(!(g instanceof RI||g instanceof Bg)||g instanceof Bg&&4===g.getState())return null;if(2!==g.getState())continue;const p=c.getOrigin(h),y=ur(c.getTileSize(h)),v=c.getResolution(h),m=Math.floor(d*((i[0]-p[0])/v-f[1]*y[0])),E=Math.floor(d*((p[1]-i[1])/v-f[2]*y[1])),_=Math.round(d*u.getGutterForProjection(l.projection));return this.getImageData(g.getImage(),m+_,E+_)}return null}loadedTileCallback(e,n,r){return!!this.isDrawableTile(r)&&super.loadedTileCallback(e,n,r)}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,n){const r=e.layerStatesArray[e.layerIndex],i=e.viewState,o=i.projection,s=i.resolution,a=i.center,l=i.rotation,u=e.pixelRatio,c=this.getLayer(),d=c.getSource(),h=d.getRevision(),f=d.getTileGridForProjection(o),g=f.getZForResolution(s,d.zDirection),p=f.getResolution(g);let y=e.extent;const v=e.viewState.resolution,m=d.getTilePixelRatio(u),E=Math.round(pe(y)/v*u),_=Math.round(Gt(y)/v*u),C=r.extent&&ao(r.extent);C&&(y=to(y,ao(r.extent)));const L=p*E/2/m,z=p*_/2/m,ce=[a[0]-L,a[1]-z,a[0]+L,a[1]+z],Re=f.getTileRangeForExtentAndZ(y,g),tt={};tt[g]={};const dn=this.createLoadedTileFinder(d,o,tt),dr=this.tmpExtent,hr=this.tmpTileRange_;this.newTiles_=!1;const Ks=l?tg(i.center,v,l,e.size):void 0;for(let gn=Re.minX;gn<=Re.maxX;++gn)for(let Ae=Re.minY;Ae<=Re.maxY;++Ae){if(l&&!f.tileCoordIntersectsViewport([g,gn,Ae],Ks))continue;const we=this.getTile(g,gn,Ae,e);if(this.isDrawableTile(we)){const dt=ut(this);if(2==we.getState()){tt[g][we.tileCoord.toString()]=we;let vo=we.inTransition(dt);vo&&1!==r.opacity&&(we.endTransition(dt),vo=!1),!this.newTiles_&&(vo||!this.renderedTiles.includes(we))&&(this.newTiles_=!0)}if(1===we.getAlpha(dt,e.time))continue}const yo=f.getTileCoordChildTileRange(we.tileCoord,hr,dr);let fr=!1;yo&&(fr=dn(g+1,yo)),fr||f.forEachTileCoordParentTileRange(we.tileCoord,dn,hr,dr)}const hn=p/s*u/m;Qi(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/u,1/u,l,-E/2,-_/2);const jn=function f0(t){const e="matrix("+t.join(", ")+")";if(qf)return e;const n=h0||(h0=document.createElement("div"));return n.style.transform=e,n.style.transform}(this.pixelTransform);this.useContainer(n,jn,this.getBackground(e));const re=this.context,_t=re.canvas;Xf(this.inversePixelTransform,this.pixelTransform),Qi(this.tempTransform,E/2,_/2,hn,hn,0,-E/2,-_/2),_t.width!=E||_t.height!=_?(_t.width=E,_t.height=_):this.containerReused||re.clearRect(0,0,E,_),C&&this.clipUnrotated(re,e,C),d.getInterpolate()||(re.imageSmoothingEnabled=!1),this.preRender(re,e),this.renderedTiles.length=0;let fn,Wr,ct,Vn=Object.keys(tt).map(Number);Vn.sort(uu),1!==r.opacity||this.containerReused&&!d.getOpaque(e.viewState.projection)?(fn=[],Wr=[]):Vn=Vn.reverse();for(let gn=Vn.length-1;gn>=0;--gn){const Ae=Vn[gn],we=d.getTilePixelSize(Ae,u,o),fr=f.getResolution(Ae)/p,dt=we[0]*fr*hn,vo=we[1]*fr*hn,Wg=f.getTileCoordForCoordAndZ(Ur(ce),Ae),BI=f.getTileCoordExtent(Wg),Bu=At(this.tempTransform,[m*(BI[0]-ce[0])/p,m*(ce[3]-BI[3])/p]),jB=m*d.getGutterForProjection(o),$I=tt[Ae];for(const VB in $I){const _o=$I[VB],zI=_o.tileCoord,GI=Wg[1]-zI[1],UB=Math.round(Bu[0]-(GI-1)*dt),WI=Wg[2]-zI[2],HB=Math.round(Bu[1]-(WI-1)*vo),Un=Math.round(Bu[0]-GI*dt),Hn=Math.round(Bu[1]-WI*vo),Xs=UB-Un,Qs=HB-Hn,ZI=g===Ae,qI=ZI&&1!==_o.getAlpha(ut(this),e.time);let Zg=!1;if(!qI)if(fn){ct=[Un,Hn,Un+Xs,Hn,Un+Xs,Hn+Qs,Un,Hn+Qs];for(let $u=0,BB=fn.length;$u<BB;++$u)if(g!==Ae&&Ae<Wr[$u]){const Nt=fn[$u];Us([Un,Hn,Un+Xs,Hn+Qs],[Nt[0],Nt[3],Nt[4],Nt[7]])&&(Zg||(re.save(),Zg=!0),re.beginPath(),re.moveTo(ct[0],ct[1]),re.lineTo(ct[2],ct[3]),re.lineTo(ct[4],ct[5]),re.lineTo(ct[6],ct[7]),re.moveTo(Nt[6],Nt[7]),re.lineTo(Nt[4],Nt[5]),re.lineTo(Nt[2],Nt[3]),re.lineTo(Nt[0],Nt[1]),re.clip())}fn.push(ct),Wr.push(Ae)}else re.clearRect(Un,Hn,Xs,Qs);this.drawTileImage(_o,e,Un,Hn,Xs,Qs,jB,ZI),fn&&!qI?(Zg&&re.restore(),this.renderedTiles.unshift(_o)):this.renderedTiles.push(_o),this.updateUsedTiles(e.usedTiles,d,_o)}}return this.renderedRevision=h,this.renderedResolution=p,this.extentChanged=!this.renderedExtent_||!Jf(this.renderedExtent_,ce),this.renderedExtent_=ce,this.renderedPixelRatio=u,this.renderedProjection=o,this.manageTilePyramid(e,d,f,u,o,y,g,c.getPreload()),this.scheduleExpireCache(e,d),this.postRender(re,e),r.extent&&re.restore(),re.imageSmoothingEnabled=!0,jn!==_t.style.transform&&(_t.style.transform=jn),this.container}drawTileImage(e,n,r,i,o,s,a,l){const u=this.getTileImage(e);if(!u)return;const c=ut(this),d=n.layerStatesArray[n.layerIndex],h=d.opacity*(l?e.getAlpha(c,n.time):1),f=h!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(u,a,a,u.width-2*a,u.height-2*a,r,i,o,s),f&&this.context.restore(),h!==d.opacity?n.animate=!0:l&&e.endTransition(c)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,n){if(n.canExpireCache()){const r=function(i,o,s){const a=ut(i);a in s.usedTiles&&i.expireCache(s.viewState.projection,s.usedTiles[a])}.bind(null,n);e.postRenderFunctions.push(r)}}updateUsedTiles(e,n,r){const i=ut(n);i in e||(e[i]={}),e[i][r.getKey()]=!0}manageTilePyramid(e,n,r,i,o,s,a,l,u){const c=ut(n);c in e.wantedTiles||(e.wantedTiles[c]={});const d=e.wantedTiles[c],h=e.tileQueue,f=r.getMinZoom(),g=e.viewState.rotation,p=g?tg(e.viewState.center,e.viewState.resolution,g,e.size):void 0;let v,m,E,_,C,L,y=0;for(L=f;L<=a;++L)for(m=r.getTileRangeForExtentAndZ(s,L,m),E=r.getResolution(L),_=m.minX;_<=m.maxX;++_)for(C=m.minY;C<=m.maxY;++C)g&&!r.tileCoordIntersectsViewport([L,_,C],p)||(a-L<=l?(++y,v=n.getTile(L,_,C,i,o),0==v.getState()&&(d[v.getKey()]=!0,h.isKeyQueued(v.getKey())||h.enqueue([v,c,r.getTileCoordCenter(v.tileCoord),E])),void 0!==u&&u(v)):n.useTile(L,_,C,o));n.updateCacheSize(y,o)}},sB=class oB extends UH{constructor(e){super(e)}createRenderer(){return new iB(this)}},lB=class aB{constructor(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const r=this.entries_[e];return ne(void 0!==r,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(e){const n=this.entries_[e];return ne(void 0!==n,15),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let r,n=0;for(r=this.newest_;r;r=r.older)e[n++]=r.key_;return e}getValues(){const e=new Array(this.count_);let r,n=0;for(r=this.newest_;r;r=r.older)e[n++]=r.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){if(this.containsKey(e))return this.entries_[e].value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){ne(!(e in this.entries_),16);const r={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_}setSize(e){this.highWaterMark=e}};function LI(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function Ys(t,e,n){return t+"/"+e+"/"+n}function FI(t){return Ys(t[0],t[1],t[2])}const kI=class hB extends lB{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(0===this.getCount())return;const r=function uB(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(i=>{i.tileCoord[0]!==r&&(this.remove(FI(i.tileCoord)),i.release())})}};function jI(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const gB=class fB extends On{constructor(e){super(),this.projection=ze(e.projection),this.attributions_=jI(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:"ready",this.wrapX_=void 0!==e.wrapX&&e.wrapX,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(r,i){n.viewResolver=r,n.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=jI(e),this.changed()}setState(e){this.state_=e,this.changed()}},mo=[0,0,0],VI=class pB{constructor(e){let n;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,ne(function Bj(t,e,n){const r=e||uu;return t.every(function(i,o){if(0===o)return!0;const s=r(t[o-1],i);return!(s>0||n&&0===s)})}(this.resolutions_,function(i,o){return o-i},!0),17),!e.origins)for(let i=0,o=this.resolutions_.length-1;i<o;++i)if(n){if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}else n=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,ne(this.origins_.length==this.resolutions_.length,20));const r=e.extent;void 0!==r&&!this.origin_&&!this.origins_&&(this.origin_=Ur(r)),ne(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,ne(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:rg,ne(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==r?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map(function(i,o){const s=new OI(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(r){const a=this.getTileRangeForExtentAndZ(r,o);s.minX=Math.max(a.minX,s.minX),s.maxX=Math.min(a.maxX,s.maxX),s.minY=Math.max(a.minY,s.minY),s.maxY=Math.min(a.maxY,s.maxY)}return s},this):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,n,r){const i=this.getTileRangeForExtentAndZ(e,n);for(let o=i.minX,s=i.maxX;o<=s;++o)for(let a=i.minY,l=i.maxY;a<=l;++a)r([n,o,a])}forEachTileCoordParentTileRange(e,n,r,i){let o,s,a,l=null,u=e[0]-1;for(2===this.zoomFactor_?(s=e[1],a=e[2]):l=this.getTileCoordExtent(e,i);u>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),a=Math.floor(a/2),o=po(s,s,a,a,r)):o=this.getTileRangeForExtentAndZ(l,u,r),n(u,o))return!0;--u}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,r){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){const o=2*e[1],s=2*e[2];return po(o,o+1,s,s+1,n)}const i=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,r){if(n>this.maxZoom||n<this.minZoom)return null;const i=e[0],o=e[1],s=e[2];if(n===i)return po(o,s,o,s,r);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-i),u=Math.floor(o*l),c=Math.floor(s*l);return n<i?po(u,u,c,c,r):po(u,Math.floor(l*(o+1))-1,c,Math.floor(l*(s+1))-1,r)}const a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,n,r)}getTileRangeForExtentAndZ(e,n,r){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,mo);const i=mo[1],o=mo[2];return this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,mo),po(i,mo[1],o,mo[2],r)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=ur(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*i[0]*r,n[1]-(e[2]+.5)*i[1]*r]}getTileCoordExtent(e,n){const r=this.getOrigin(e[0]),i=this.getResolution(e[0]),o=ur(this.getTileSize(e[0]),this.tmpSize_),s=r[0]+e[1]*o[0]*i,a=r[1]-(e[2]+1)*o[1]*i;return Ji(s,a,s+o[0]*i,a+o[1]*i,n)}getTileCoordForCoordAndResolution(e,n,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,r)}getTileCoordForXYAndResolution_(e,n,r,i,o){const s=this.getZForResolution(r),a=r/this.getResolution(s),l=this.getOrigin(s),u=ur(this.getTileSize(s),this.tmpSize_);let c=a*(e-l[0])/r/u[0],d=a*(l[1]-n)/r/u[1];return i?(c=Iu(c,5)-1,d=Iu(d,5)-1):(c=wu(c,5),d=wu(d,5)),LI(s,c,d,o)}getTileCoordForXYAndZ_(e,n,r,i,o){const s=this.getOrigin(r),a=this.getResolution(r),l=ur(this.getTileSize(r),this.tmpSize_);let u=(e-s[0])/a/l[0],c=(s[1]-n)/a/l[1];return i?(u=Iu(u,5)-1,c=Iu(c,5)-1):(u=wu(u,5),c=wu(c,5)),LI(r,u,c,o)}getTileCoordForCoordAndZ(e,n,r){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,r)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){return Oe(Wf(this.resolutions_,e,n||0),this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return lI(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,r=new Array(n);for(let i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r}};function UI(t){let e=t.getDefaultTileGrid();return e||(e=function _B(t,e,n,r){return function yB(t,e,n,r){r=void 0!==r?r:"top-left";const i=HI(t,e,n);return new VI({extent:t,origin:dV(t,r),resolutions:i,tileSize:n})}(zg(t),e,n,r)}(t),t.setDefaultTileGrid(e)),e}function HI(t,e,n,r){e=void 0!==e?e:SV,n=ur(void 0!==n?n:rg);const i=Gt(t),o=pe(t);r=r>0?r:Math.max(o/n[0],i/n[1]);const s=e+1,a=new Array(s);for(let l=0;l<s;++l)a[l]=r/Math.pow(2,l);return a}function zg(t){let e=(t=ze(t)).getExtent();if(!e){const n=180*Hs.degrees/t.getMetersPerUnit();e=Ji(-n,-n,n,n)}return e}class DB extends rr{constructor(e,n){super(e),this.tile=n}}const CB=class EB extends gB{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileGrid&&ur(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),[256,256]),this.tileCache=new kI(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,n){const r=this.getTileCacheForProjection(e);r&&r.expireCache(n)}forEachLoadedTile(e,n,r,i){const o=this.getTileCacheForProjection(e);if(!o)return!1;let a,l,u,s=!0;for(let c=r.minX;c<=r.maxX;++c)for(let d=r.minY;d<=r.maxY;++d)l=Ys(n,c,d),u=!1,o.containsKey(l)&&(a=o.get(l),u=2===a.getState(),u&&(u=!1!==i(a))),u||(s=!1);return s}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,r,i,o){return ge()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:UI(e)}getTileCacheForProjection(e){const n=this.getProjection();return ne(null===n||so(n,e),68),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,r){const i=this.getTileGridForProjection(r),o=this.getTilePixelRatio(n),s=ur(i.getTileSize(e),this.tmpSize);return 1==o?s:function FH(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}(s,o,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=void 0!==n?n:this.getProjection();const r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=function mB(t,e,n){const r=e[0],i=t.getTileCoordCenter(e),o=zg(n);if(!Qf(o,i)){const s=pe(o),a=Math.ceil((o[0]-i[0])/s);return i[0]+=s*a,t.getTileCoordForCoordAndZ(i,r)}return e}(r,e,n)),function dB(t,e){const n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const o=e.getFullTileRange(n);return!o||o.containsXY(r,i)}(e,r)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,n){const r=this.getTileCacheForProjection(n);e>r.highWaterMark&&(r.highWaterMark=e)}useTile(e,n,r,i){}};function wB(t,e){const n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(s,a,l){if(s)return t.replace(n,s[0].toString()).replace(r,s[1].toString()).replace(i,s[2].toString()).replace(o,function(){const c=e.getFullTileRange(s[0]);return ne(c,55),(c.getHeight()-s[2]-1).toString()})}}class Gg extends CB{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Gg.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,r=ut(n),i=n.getState();let o;1==i?(this.tileLoadingKeys_[r]=!0,o="tileloadstart"):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],o=3==i?"tileloaderror":2==i?"tileloadend":void 0),null!=o&&this.dispatchEvent(new DB(o,n))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=function TB(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let o;for(o=r;o<=i;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)e.push(t.replace(n[0],i.toString()));return e}return e.push(t),e}(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function IB(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=wB(t[i],e);return function SB(t){return 1===t.length?t[0]:function(e,n,r){if(!e)return;const i=function cB(t){return(t[1]<<t[0])+t[2]}(e),o=ro(i,t.length);return t[o](e,n,r)}}(r)}(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,r){}useTile(e,n,r){const i=Ys(e,n,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}const MB=Gg;function RB(t,e){t.getImage().src=e}const AB=class bB extends MB{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:RB,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:RI,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,n){const r=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==r?n:{});for(const i in this.tileCacheForProjection){const o=this.tileCacheForProjection[i];o.expireCache(o==r?n:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!so(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return!(this.getProjection()&&e&&!so(this.getProjection(),e))&&super.getOpaque(e)}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||so(n,e)))return this.tileGrid;const r=ut(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=UI(e)),this.tileGridForProjection[r]}getTileCacheForProjection(e){const n=this.getProjection();if(!n||so(n,e))return this.tileCache;const r=ut(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new kI(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]}createTile_(e,n,r,i,o,s){const a=[e,n,r],l=this.getTileCoordForTileUrlFunction(a,o),u=l?this.tileUrlFunction(l,i,o):void 0,c=new this.tileClass(a,void 0!==u?0:4,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=s,c.addEventListener("change",this.handleTileChange.bind(this)),c}getTile(e,n,r,i,o){const s=this.getProjection();if(!s||!o||so(s,o))return this.getTileInternal(e,n,r,i,s||o);const a=this.getTileCacheForProjection(o),l=[e,n,r];let u;const c=FI(l);a.containsKey(c)&&(u=a.get(c));const d=this.getKey();if(u&&u.key==d)return u;const h=this.getTileGridForProjection(s),f=this.getTileGridForProjection(o),g=this.getTileCoordForTileUrlFunction(l,o),p=new Bg(s,h,o,f,l,g,this.getTilePixelRatio(i),this.getGutter(),(y,v,m,E)=>this.getTileInternal(y,v,m,E,s),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return p.key=d,u?(p.interimTile=u,p.refreshInterimChain(),a.replace(c,p)):a.set(c,p),p}getTileInternal(e,n,r,i,o){let s=null;const a=Ys(e,n,r),l=this.getKey();if(this.tileCache.containsKey(a)){if(s=this.tileCache.get(a),s.key!=l){const u=s;s=this.createTile_(e,n,r,i,o,l),s.interimTile=0==u.getState()?u.interimTile:u,s.refreshInterimChain(),this.tileCache.replace(a,s)}}else s=this.createTile_(e,n,r,i,o,l),this.tileCache.set(a,s);return s}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(e,n){const r=ze(e);if(r){const i=ut(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=n)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}},NB=class xB extends AB{constructor(e){const n=void 0!==(e=e||{}).projection?e.projection:"EPSG:3857",r=void 0!==e.tileGrid?e.tileGrid:function vB(t){const e=t||{},n=e.extent||ze("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:HI(n,e.maxZoom,e.tileSize,e.maxResolution)};return new VI(r)}({extent:zg(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=void 0!==e.gutter?e.gutter:0}getGutter(){return this.gutter_}},LB=class OB extends NB{constructor(e){let n;n=void 0!==(e=e||{}).attributions?e.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:void 0!==e.crossOrigin?e.crossOrigin:"anonymous",interpolate:e.interpolate,maxZoom:void 0!==e.maxZoom?e.maxZoom:19,opaque:void 0===e.opaque||e.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:void 0!==e.url?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:e.wrapX,zDirection:e.zDirection})}};let FB=(()=>{class t{constructor(){this.map=new TI}ngOnInit(){this.map=new TI({view:new cn({center:[0,0],zoom:1}),layers:[new sB({source:new LB})],target:"ol-map"})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=hc({type:t,selectors:[["app-root"]],decls:8,vars:0,consts:[[1,"title"],[1,"left-bar"],["id","ol-map",1,"map-container"]],template:function(n,r){1&n&&(Ni(0,"header")(1,"div",0),Jd(2,"Map Viewer - Openlayers & Angular"),Pi()(),Ni(3,"main"),yl(4,"div",1)(5,"div",2),Pi(),Ni(6,"footer"),Jd(7," Footer\n"),Pi())},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh}header[_ngcontent-%COMP%]{background-color:var(--header-color);padding:2em}header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:28px}main[_ngcontent-%COMP%]{display:flex;flex-grow:1}.left-bar[_ngcontent-%COMP%]{width:20em;background-color:var(--sidebar-color)}.map-container[_ngcontent-%COMP%]{flex-grow:1}footer[_ngcontent-%COMP%]{background-color:var(--header-color);padding:1em}"]}),t})(),kB=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=yr({type:t,bootstrap:[FB]}),t.\u0275inj=zn({imports:[XF,jj]}),t})();YF().bootstrapModule(kB).catch(t=>console.error(t))}},te=>{te(te.s=79)}]);